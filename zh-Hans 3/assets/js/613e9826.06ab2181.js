"use strict";(self.webpackChunkliangchao_website=self.webpackChunkliangchao_website||[]).push([[571],{2828:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});var s=i(96540),n=i(63018),a=i(74848);function h({text:e,onStatusChange:t,onHandDetect:n}){const h=s.useRef(null),r=s.useRef(null),l=s.useRef(null);return s.useEffect((()=>{let s,a=[],d={x:-1e4,y:-1e4},o=null,c=null;class u{constructor(e,t,i){this.baseX=e,this.baseY=t,this.x=Math.random()*window.innerWidth,this.y=Math.random()*window.innerHeight,this.z=Math.random(),this.vx=0,this.vy=0,this.color=i,this.size=1.5+this.z,this.density=30*Math.random()+1}draw(e){e.fillStyle=this.color,e.globalAlpha=.4+.6*this.z,e.beginPath(),e.arc(this.x,this.y,this.size,0,2*Math.PI),e.closePath(),e.fill(),e.globalAlpha=1}update(){let e=-1e4,t=-1e4,i=!1,s=!1;if(o?(e=o.x,t=o.y,i=!0,s=o.isClosed):d.x>0&&(e=d.x,t=d.y,i=!0,s=!1),i){const i=e-this.x,n=t-this.y,a=Math.sqrt(i*i+n*n),h=s?300:200;if(a<h){const e=i/a,t=n/a,r=(h-a)/h,l=s?1:-1,d=s?40:15,o=.5+this.z,c=e*r*this.density*o*l*d,u=t*r*this.density*o*l*d;this.vx+=c,this.vy+=u}}const n=s?.05*.1:.05,a=this.baseX-this.x,h=this.baseY-this.y;this.vx+=a*n,this.vy+=h*n,this.vx*=.94,this.vy*=.94,this.x+=this.vx,this.y+=this.vy}}(async()=>{if(t&&t("INITIALIZING OPTICS..."),!h.current||!l.current)return;const m=h.current,p=m.getContext("2d");if(!p)return;const f=()=>{m.width=l.current?.offsetWidth||window.innerWidth,m.height=l.current?.offsetHeight||window.innerHeight,setTimeout(x,100)},x=()=>{a=[],p.clearRect(0,0,m.width,m.height);const t=Math.min(m.width/5,250);p.font=`900 ${t}px "Orbitron"`,p.fillStyle="white",p.textAlign="center",p.textBaseline="middle",p.fillText(e||"SMILER488",m.width/2,m.height/2);const i=p.getImageData(0,0,m.width,m.height);for(let e=0;e<i.height;e+=5)for(let t=0;t<i.width;t+=5)if(i.data[4*e*i.width+4*t+3]>128){const i=Math.random();let s="#2dd4bf";i>.7?s="#ccfbf1":i<.2&&(s="#115e59"),a.push(new u(t,e,s))}p.clearRect(0,0,m.width,m.height)};window.addEventListener("resize",f),f();try{t&&t("CONNECTING SENSORS...");const e=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:640},height:{ideal:480},frameRate:{ideal:30}}});r.current&&(r.current.srcObject=e,r.current.onloadeddata=async()=>{const e=await i.e(3260).then(i.bind(i,23260)),s=await e.FilesetResolver.forVisionTasks("https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.10.0/wasm");c=await e.HandLandmarker.createFromOptions(s,{baseOptions:{modelAssetPath:"https://storage.googleapis.com/mediapipe-models/hand_landmarker/hand_landmarker/float16/1/hand_landmarker.task",delegate:"GPU"},runningMode:"VIDEO",numHands:2}),t&&t("SYSTEM ONLINE - WAITING FOR INPUT"),r.current?.play(),y()})}catch(I){t&&t("CAMERA ERROR - MOUSE MODE ONLY")}const y=()=>{if(!r.current||!c)return;const e=performance.now(),i=c.detectForVideo(r.current,e);if(i.landmarks&&i.landmarks.length>0){const e=i.landmarks[0],s=(e[0].x+e[9].x)/2,a=(e[0].y+e[9].y)/2,h=(1-s)*m.width,r=a*m.height,l=e[4],d=e[8],c=e[12],u=Math.hypot(l.x-d.x,l.y-d.y),p=Math.hypot(l.x-c.x,l.y-c.y),f=u<.08||p<.08;o={x:h,y:r,isClosed:f},n&&n(o),t&&t(f?"GRAVITY WELL ENGAGED":"REPULSION FIELD ACTIVE")}else o=null,n&&n(null),t&&t("SYSTEM ONLINE - WAITING FOR INPUT");requestAnimationFrame(y)},g=()=>{p.fillStyle="rgba(0, 0, 0, 0.25)",p.fillRect(0,0,m.width,m.height),a.forEach((e=>{e.update(),e.draw(p)})),p.fillStyle="rgba(45, 212, 191, 0.03)",p.fillRect(0,performance.now()/10%m.height,m.width,2),s=requestAnimationFrame(g)};g();const w=e=>{o||(d.x=e.clientX,d.y=e.clientY)},v=()=>{d.x=-1e4,d.y=-1e4};window.addEventListener("mousemove",w),window.addEventListener("mouseout",v)})()}),[e,t,n]),(0,a.jsxs)("div",{ref:l,style:{position:"relative",width:"100%",height:"70vh",background:"#000"},children:[(0,a.jsx)("canvas",{ref:h,style:{width:"100%",height:"100%",display:"block"}}),(0,a.jsx)("video",{ref:r,style:{display:"none"},playsInline:!0})]})}function r(){const[e,t]=s.useState("INITIALIZING..."),[i,r]=s.useState(null);return(0,a.jsx)(n.A,{title:"Hologram",description:"Holographic gesture interaction",children:(0,a.jsxs)("div",{className:"app-card",style:{margin:16},children:[(0,a.jsxs)("div",{className:"app-header",children:[(0,a.jsx)("h2",{className:"app-title",children:"Holographic Interaction"}),(0,a.jsx)("div",{className:"app-muted",children:"Camera permission required"})]}),(0,a.jsx)(h,{text:"SMILER488",onStatusChange:t,onHandDetect:r}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:12},children:[(0,a.jsx)("div",{className:"app-muted",children:e}),(0,a.jsxs)("div",{className:"app-muted",children:["X: ",i?.x?.toFixed?.(2)||"\u2014"," Y: ",i?.y?.toFixed?.(2)||"\u2014"]})]})]})})}}}]);