"use strict";(self.webpackChunkliangchao_website=self.webpackChunkliangchao_website||[]).push([[5117],{2835:(e,a,t)=>{t.d(a,{A:()=>m});var i=t(6540),l=t(4848);const s={maxWidth:"800px",margin:"60px auto 0",textAlign:"left",padding:"0 20px"},n={fontSize:"2rem",fontWeight:"600",marginBottom:"16px",color:"#000000"},o={fontSize:"1.1rem",color:"#333333",lineHeight:1.6,marginBottom:"16px"},r={borderLeft:"4px solid #cccccc",paddingLeft:"16px",color:"#333333",fontStyle:"italic",lineHeight:1.6,marginBottom:"16px"},d={backgroundColor:"#f6f6f7",padding:"16px",borderRadius:"12px",overflowX:"auto",border:"1px solid #e5e5e7"},c={fontSize:"1.5rem",fontWeight:"600",marginBottom:"16px",color:"#000000"};function m({containerStyle:e}){const[a,t]=(0,i.useState)(!1),[m,h]=(0,i.useState)(!1),p="LiangchaoDeng. (2025). smiler488/smiler488.github.io: Digital Plant Phenotyping Platform v25.0 (v25.0.0). Zenodo. https://doi.org/10.5281/zenodo.17544584",u="@software{Deng2025_DPPP_v25,\n  author       = {Deng, Liangchao},\n  title        = {Digital Plant Phenotyping Platform (v25.0)},\n  year         = {2025},\n  publisher    = {Zenodo},\n  doi          = {10.5281/zenodo.17544584},\n  url          = {https://doi.org/10.5281/zenodo.17544584},\n  note         = {[Computer software]}\n}";return(0,l.jsxs)("div",{style:{...s,...e},children:[(0,l.jsx)("h2",{style:n,children:"Citation"}),(0,l.jsxs)("p",{style:o,children:["If you use ",(0,l.jsx)("strong",{children:"Digital Plant Phenotyping Platform v25.0"})," or any of its applications in your research, please cite it as:"]}),(0,l.jsxs)("blockquote",{style:r,children:["LiangchaoDeng. (2025)."," ",(0,l.jsx)("em",{children:"smiler488/smiler488.github.io: Digital Plant Phenotyping Platform v25.0 (v25.0.0)"}),". Zenodo.",(0,l.jsx)("br",{}),(0,l.jsx)("a",{href:"https://doi.org/10.5281/zenodo.17544584",children:"https://doi.org/10.5281/zenodo.17544584"})]}),(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"16px",gap:"12px"},children:[(0,l.jsx)("button",{type:"button",onClick:async()=>{try{if("undefined"!=typeof navigator&&navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(p);else if("undefined"!=typeof document){const e=document.createElement("textarea");e.value=p,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}t(!0),setTimeout((()=>t(!1)),2e3)}catch{t(!1)}},style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #000000",backgroundColor:"#000000",color:"#ffffff",cursor:"pointer",fontSize:"0.95rem",fontWeight:500,transition:"transform 0.15s ease, background-color 0.15s ease"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="#333333",e.currentTarget.style.transform="translateY(-1px)"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="#000000",e.currentTarget.style.transform="translateY(0)"},children:a?"Copied!":"Copy citation"}),(0,l.jsx)("span",{style:{fontSize:"0.9rem",color:a?"#007f5f":"#6c6c70"},children:a?"Citation copied to clipboard.":"Click to copy APA citation."})]}),(0,l.jsx)("a",{href:"https://doi.org/10.5281/zenodo.17544584",style:{display:"inline-block",marginBottom:"24px"},children:(0,l.jsx)("img",{src:"https://zenodo.org/badge/DOI/10.5281/zenodo.17544584.svg",alt:"DOI badge",style:{height:"32px"}})}),(0,l.jsx)("hr",{style:{border:"none",borderTop:"1px solid #e5e5e7",marginBottom:"24px"}}),(0,l.jsx)("h3",{style:c,children:"BibTeX citation (Zotero \u2192 File \u2192 Import from Clipboard)"}),(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"16px",gap:"12px"},children:[(0,l.jsx)("button",{type:"button",onClick:async()=>{try{if("undefined"!=typeof navigator&&navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(u);else if("undefined"!=typeof document){const e=document.createElement("textarea");e.value=u,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}h(!0),setTimeout((()=>h(!1)),2e3)}catch{h(!1)}},style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #000000",backgroundColor:"#000000",color:"#ffffff",cursor:"pointer",fontSize:"0.95rem",fontWeight:500,transition:"transform 0.15s ease, background-color 0.15s ease"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="#333333",e.currentTarget.style.transform="translateY(-1px)"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="#000000",e.currentTarget.style.transform="translateY(0)"},children:m?"Copied!":"Copy BibTeX"}),(0,l.jsx)("span",{style:{fontSize:"0.9rem",color:m?"#007f5f":"#6c6c70"},children:m?"BibTeX copied to clipboard. Switch to Zotero and choose Import from Clipboard.":"Click to copy BibTeX to clipboard for Zotero import."})]}),(0,l.jsx)("pre",{style:d,children:(0,l.jsx)("code",{children:u})})]})}},5313:(e,a,t)=>{t.r(a),t.d(a,{default:()=>C});var i=t(6540),l=t(3018),s=t(2835),n=t(4848);const o=e=>e*Math.PI/180,r=(e,a,t)=>Math.max(a,Math.min(t,e)),d={PE:140,PVC:150},c=9.81,m=5;function h(e,a,t,i=150){return e<=0||a<=0||t<=0?0:10.67*e*Math.pow(a,1.852)/(Math.pow(i,1.852)*Math.pow(t,4.87))}function p(e,a){if(e<=0||a<=0)return 0;return e/(Math.PI*a*a/4)}const u={field:{length_m:320,width_m:140},headworks:{pumpPressure_kPa:180,maxFlow_m3h:130,filterLoss_kPa:12,fertigation:!0},mainline:{diameter_mm:90,length_m:320,location:"edge",ring:!1,material:"PE"},submains:{spacing_m:60,diameter_mm:50,twoSideFeed:!1,valveEvery:1},laterals:{tapeSpacing_m:2.2,emitterSpacing_cm:30,emitterFlow_Lph:2.4,operPressure_kPa:100,length_m:320,pressureComp:!0},terrain:{orientation_deg:0,slope_len_pct:.3,slope_wid_pct:0},constraints:{maxPressureVar_pct:10,maxVel_ms:1.5}},x=["Keep mainline velocity \u22641.5 m/s to minimize water hammer and energy losses.","Limit submain headloss to <20% of operating pressure and lateral headloss to <10%.","Use pressure-compensating emitters or zoning when slope exceeds 0.5%.","Ring-fed mains or two-side-fed submains help maintain uniform pressure."];function g({label:e,value:a,onChange:t,step:i=1,suffix:l}){return(0,n.jsxs)("label",{style:{display:"block",marginBottom:12},children:[(0,n.jsx)("span",{style:{display:"block",fontSize:"0.85rem",marginBottom:4},children:e}),(0,n.jsx)("input",{type:"number",value:a,step:i,onChange:e=>t(Number(e.target.value)),style:{width:"100%",padding:"8px 10px",border:"1px solid var(--ifm-color-emphasis-300)",borderRadius:8}}),l&&(0,n.jsx)("span",{style:{display:"block",fontSize:"0.75rem",color:"var(--ifm-color-emphasis-700)",marginTop:4},children:l})]})}function f({label:e,value:a,onChange:t}){return(0,n.jsxs)("label",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"0.9rem",padding:"4px 0"},children:[(0,n.jsx)("span",{children:e}),(0,n.jsx)("input",{type:"checkbox",checked:a,onChange:e=>t(e.target.checked)})]})}function b({title:e,description:a,children:t}){return(0,n.jsxs)("section",{className:"card padding--md margin-bottom--lg",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{fontSize:"0.95rem",fontWeight:600},children:e}),a&&(0,n.jsx)("p",{style:{fontSize:"0.8rem",color:"var(--ifm-color-emphasis-700)",marginTop:4,lineHeight:1.5},children:a})]}),t]})}function v(e,a){const{field:t,headworks:i,mainline:l,submains:s,laterals:n,terrain:o,constraints:u}=e,{tapesPerSubmain:x,emittersPerTape:g,nSubmains:f}=a,b=f*x,v=g*n.emitterFlow_Lph/1e3,y=b*v,j=y/3600,_=l.diameter_mm/1e3,w=l.ring?l.length_m/2:l.length_m,k=l.ring?j/2:j,C=h(w,k,_,d[l.material]||140),P=p(k,_),S=x*v/3600,N=s.diameter_mm/1e3,M=s.twoSideFeed?t.length_m/2:t.length_m,z=s.twoSideFeed?S/2:S,F=h(M,z,N,140),T=p(z,N),L=o.slope_len_pct/100*n.length_m,$=o.slope_wid_pct/100*t.width_m,B=L*c,R=$*c,W=Math.max(0,i.pumpPressure_kPa-i.filterLoss_kPa),D=W-(i.fertigation?m:0)-C*c,V=D-F*c-Math.max(0,B),E=V-n.operPressure_kPa,I=function(e){const a=100-1.6*r(e,0,25);return r(a,60,98)}(u.maxPressureVar_pct),A=[];return P>u.maxVel_ms&&A.push(`Mainline velocity ${P.toFixed(2)} m/s exceeds ${u.maxVel_ms} m/s limit.`),y>i.maxFlow_m3h&&A.push(`Total system flow ${y.toFixed(1)} m\xb3/h > pump rating ${i.maxFlow_m3h} m\xb3/h.`),D<=0&&A.push("Net pump pressure after filter/fertigation losses is insufficient for mainline delivery."),E<0&&A.push(`Lateral pressure deficit ${Math.abs(E).toFixed(1)} kPa vs setpoint; increase pump pressure or pipe size.`),Math.abs(L)>1&&A.push(`Lengthwise slope induces ${B.toFixed(1)} kPa head variation.`),Math.abs($)>1&&A.push(`Cross-field slope induces ${R.toFixed(1)} kPa head variation.`),{tapesTotal:b,totalFlow_m3h:y,mainV:P,mainHf:C,subV:T,subHf:F,CU:I,warnings:A,netPump_kPa:W,atLaterals_kPa:V,pressureMargin_kPa:E}}function y({config:e,layout:a},t){const{field:i,mainline:l,submains:s,laterals:o}=e,{width:r,height:d,project:c,nSubmains:m,submainSpacing:h,tapesPerSubmain:p,scale:u,padding:x}=a,g=(0,n.jsx)("rect",{x:x,y:x,width:i.length_m*u,height:i.width_m*u,rx:18,fill:"#f8fafc",stroke:"#e2e8f0",strokeWidth:2}),f=(()=>{if("edge"===l.location){const[e,a]=c(0,0),[t,s]=c(0,i.width_m);return(0,n.jsx)("line",{x1:e,y1:a,x2:t,y2:s,stroke:"#0ea5e9",strokeWidth:Math.max(3,l.diameter_mm/40)})}const[e,a]=c(0,i.width_m/2),[t,s]=c(i.length_m,i.width_m/2);return(0,n.jsx)("line",{x1:e,y1:a,x2:t,y2:s,stroke:"#0ea5e9",strokeWidth:Math.max(3,l.diameter_mm/40)})})(),b=Array.from({length:m+1}).map(((e,a)=>{const t=a*h,[l,o]=c(0,t),[r,d]=c(i.length_m,t);return(0,n.jsx)("line",{x1:l,y1:o,x2:r,y2:d,stroke:"#22c55e",strokeWidth:Math.max(2,s.diameter_mm/60),opacity:.9},`sub-${a}`)})),v=[];for(let _=0;_<m;_+=1){const e=_*h;for(let a=0;a<p;a+=1){const t=e+(a+.5)*(h/p),[l,s]=c(0,t),[o,r]=c(i.length_m,t);v.push((0,n.jsx)("line",{x1:l,y1:s,x2:o,y2:r,stroke:"#94a3b8",strokeDasharray:"6 6",strokeWidth:1.3},`lat-${_}-${a}`))}}const[y,j]=c(0,"edge"===l.location?0:i.width_m/2);return(0,n.jsxs)("svg",{ref:t,viewBox:`0 0 ${r} ${d}`,className:"w-full h-full bg-white rounded-2xl border",children:[g,(0,n.jsxs)("g",{opacity:.15,children:[Array.from({length:10}).map(((e,a)=>(0,n.jsx)("line",{x1:x,y1:x+a/10*i.width_m*u,x2:x+i.length_m*u,y2:x+a/10*i.width_m*u,stroke:"#cbd5f5"},`gx-${a}`))),Array.from({length:10}).map(((e,a)=>(0,n.jsx)("line",{x1:x+a/10*i.length_m*u,y1:x,x2:x+a/10*i.length_m*u,y2:x+i.width_m*u,stroke:"#cbd5f5"},`gy-${a}`)))]}),f,b,v,(0,n.jsxs)("g",{transform:`translate(${y},${j})`,children:[(0,n.jsx)("rect",{x:-14,y:-14,width:28,height:28,rx:7,fill:"#0ea5e9"}),(0,n.jsx)("text",{x:16,y:5,fontSize:12,fill:"#0ea5e9",children:"Headworks"})]}),(0,n.jsxs)("text",{x:r-200,y:d-30,fontSize:12,fill:"#475569",children:["Scale 1:",Math.round(1/a.scale)]})]})}const j=i.forwardRef(y);function _({config:e,layout:a,svgRef:t}){return(0,n.jsxs)("section",{className:"card padding--md margin-bottom--lg",children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{fontSize:"0.95rem",fontWeight:600},children:"Layout Preview"}),(0,n.jsx)("p",{style:{fontSize:"0.8rem",color:"var(--ifm-color-emphasis-700)"},children:"Field drawn to scale with rotation; headworks shown at origin."})]}),(0,n.jsxs)("div",{style:{fontSize:"0.8rem",color:"var(--ifm-color-emphasis-700)"},children:[e.field.length_m," m \xd7 ",e.field.width_m," m"]})]}),(0,n.jsx)("div",{style:{border:"1px solid var(--ifm-color-emphasis-300)",borderRadius:8,background:"#f6f8fb",overflow:"hidden",marginTop:12},children:(0,n.jsx)(j,{config:e,layout:a,ref:t})}),(0,n.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"12px",fontSize:"0.8rem",color:"var(--ifm-color-emphasis-700)",marginTop:8},children:[{color:"#0ea5e9",label:"Mainline"},{color:"#22c55e",label:"Submains"},{color:"#94a3b8",label:"Drip laterals"}].map((e=>(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,n.jsx)("span",{style:{display:"inline-block",width:12,height:12,borderRadius:12,background:e.color}}),(0,n.jsx)("span",{children:e.label})]},e.label)))})]})}function w({data:e,config:a}){const{headworks:t,laterals:i}=a,l=[{label:"Total laterals",value:e.tapesTotal},{label:"System flow",value:`${e.totalFlow_m3h.toFixed(1)} m\xb3/h`,hint:`Pump limit ${t.maxFlow_m3h}`},{label:"Mainline velocity",value:`${e.mainV.toFixed(2)} m/s`},{label:"Mainline headloss",value:`${e.mainHf.toFixed(2)} m`},{label:"Submain velocity",value:`${e.subV.toFixed(2)} m/s`},{label:"Submain headloss",value:`${e.subHf.toFixed(2)} m`},{label:"Available pressure",value:`${Math.max(0,e.atLaterals_kPa).toFixed(0)} kPa`,hint:`Margin ${e.pressureMargin_kPa.toFixed(1)} kPa`},{label:"Net pump pressure",value:`${e.netPump_kPa.toFixed(0)} kPa`},{label:"Estimated CU",value:`${e.CU.toFixed(0)}%`,hint:i.pressureComp?"PC emitter":"non-PC emitter"}];return(0,n.jsxs)("section",{className:"card padding--md margin-bottom--lg",children:[(0,n.jsx)("div",{style:{fontSize:"0.95rem",fontWeight:600},children:"Hydraulic Summary"}),(0,n.jsx)("div",{className:"row",style:{marginTop:8},children:l.map((e=>(0,n.jsx)("div",{className:"col col--4",children:(0,n.jsxs)("div",{style:{border:"1px solid var(--ifm-color-emphasis-300)",borderRadius:8,padding:12},children:[(0,n.jsx)("div",{style:{fontSize:"0.8rem",color:"var(--ifm-color-emphasis-700)"},children:e.label}),(0,n.jsx)("div",{style:{fontSize:"1.1rem",fontWeight:600},children:e.value}),e.hint&&(0,n.jsx)("div",{style:{fontSize:"0.75rem",color:"var(--ifm-color-emphasis-700)"},children:e.hint})]})},e.label)))})]})}function k({warnings:e}){return e.length?(0,n.jsxs)("div",{className:"card padding--md",style:{borderLeft:"4px solid #f59e0b",background:"#fffbeb"},children:[(0,n.jsx)("div",{style:{fontWeight:600,marginBottom:6,color:"#92400e"},children:"Warnings"}),(0,n.jsx)("ul",{style:{paddingLeft:18},children:e.map((e=>(0,n.jsx)("li",{style:{color:"#92400e",marginBottom:4},children:e},e)))})]}):(0,n.jsx)("div",{className:"card padding--md",style:{borderLeft:"4px solid #10b981",background:"#ecfdf5"},children:(0,n.jsx)("div",{style:{color:"#065f46",fontSize:"0.9rem"},children:"All operating parameters within limits. Proceed with headworks or zoning refinements."})})}function C(){const[e,a]=(0,i.useState)(u),t=(0,i.useRef)(null),r=(0,i.useMemo)((()=>function(e,a,t,i){const l=Math.min(836/e.length_m,496/e.width_m),s=Math.max(1,Math.floor(e.width_m/Math.max(a.spacing_m,1))),n=e.width_m/s,r=Math.max(1,Math.floor(n/Math.max(t.tapeSpacing_m,.1))),d=Math.max(1,Math.floor(100*t.length_m/Math.max(t.emitterSpacing_cm,1))),c=o(i.orientation_deg||0),m=Math.cos(c),h=Math.sin(c),p=e.length_m/2,u=e.width_m/2;return{padding:32,width:900,height:560,scale:l,nSubmains:s,submainSpacing:n,tapesPerSubmain:r,emittersPerTape:d,project:function(e,a){return[32+(m*(e-p)-h*(a-u)+p)*l,32+(h*(e-p)+m*(a-u)+u)*l]}}}(e.field,e.submains,e.laterals,e.terrain)),[e]),d=(0,i.useMemo)((()=>v(e,r)),[e,r]),c=(e,t,i)=>a((a=>({...a,[e]:{...a[e],[t]:i}})));return(0,n.jsx)(l.A,{title:"Irrigation Layout Designer",children:(0,n.jsxs)("main",{className:"container margin-vert--lg app-container",children:[(0,n.jsxs)("div",{className:"row",children:[(0,n.jsxs)("div",{className:"col col--8",children:[(0,n.jsx)("h1",{className:"app-title",children:"Irrigation Layout Designer"}),(0,n.jsx)("p",{children:"Feed field dimensions, slopes, and headworks constraints to generate a scaled layout of mainlines, submains, and drip laterals while checking velocities, headloss, and pressure uniformity instantly."})]}),(0,n.jsx)("div",{className:"col col--4",children:(0,n.jsxs)("div",{style:{display:"flex",gap:12,justifyContent:"flex-end",alignItems:"center",marginTop:8},children:[(0,n.jsx)("a",{href:"/docs/tutorial-apps/irrigation-layout-designer-tutorial",className:"button button--secondary",children:"Tutorial"}),(0,n.jsx)("button",{type:"button",onClick:()=>a(u),className:"button button--outline",children:"Reset Defaults"})]})})]}),(0,n.jsxs)("div",{className:"row margin-top--lg",children:[(0,n.jsxs)("div",{className:"col col--5",children:[(0,n.jsx)(b,{title:"Field & Terrain",description:"Orientation measured clockwise from true north. Slopes convert to head differences.",children:(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col col--6",children:(0,n.jsx)(g,{label:"Length (m)",value:e.field.length_m,onChange:e=>c("field","length_m",e)})}),(0,n.jsx)("div",{className:"col col--6",children:(0,n.jsx)(g,{label:"Width (m)",value:e.field.width_m,onChange:e=>c("field","width_m",e)})}),(0,n.jsx)("div",{className:"col col--6",children:(0,n.jsx)(g,{label:"Orientation (\xb0)",value:e.terrain.orientation_deg,onChange:e=>c("terrain","orientation_deg",e),suffix:"clockwise from N"})}),(0,n.jsx)("div",{className:"col col--6",children:(0,n.jsx)(g,{label:"Slope along length (%)",step:.1,value:e.terrain.slope_len_pct,onChange:e=>c("terrain","slope_len_pct",e)})}),(0,n.jsx)("div",{className:"col col--6",children:(0,n.jsx)(g,{label:"Slope along width (%)",step:.1,value:e.terrain.slope_wid_pct,onChange:e=>c("terrain","slope_wid_pct",e)})})]})}),(0,n.jsx)(b,{title:"Headworks & Constraints",description:"Pump pressure, filter/fertigation losses, and allowable variation determine available head.",children:(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col col--6",children:(0,n.jsx)(g,{label:"Pump pressure (kPa)",value:e.headworks.pumpPressure_kPa,onChange:e=>c("headworks","pumpPressure_kPa",e)})}),(0,n.jsx)("div",{className:"col col--6",children:(0,n.jsx)(g,{label:"Max flow (m\xb3/h)",value:e.headworks.maxFlow_m3h,onChange:e=>c("headworks","maxFlow_m3h",e)})}),(0,n.jsx)("div",{className:"col col--6",children:(0,n.jsx)(g,{label:"Filter loss (kPa)",value:e.headworks.filterLoss_kPa,onChange:e=>c("headworks","filterLoss_kPa",e)})}),(0,n.jsx)("div",{className:"col col--6",children:(0,n.jsx)(f,{label:"Fertigation skid",value:e.headworks.fertigation,onChange:e=>c("headworks","fertigation",e)})}),(0,n.jsx)("div",{className:"col col--6",children:(0,n.jsx)(g,{label:"Allowable \u0394P (%)",value:e.constraints.maxPressureVar_pct,onChange:e=>c("constraints","maxPressureVar_pct",e)})}),(0,n.jsx)("div",{className:"col col--6",children:(0,n.jsx)(g,{label:"Max velocity (m/s)",value:e.constraints.maxVel_ms,onChange:e=>c("constraints","maxVel_ms",e)})})]})}),(0,n.jsx)(b,{title:"Mainline",description:"Material determines Hazen\u2013Williams C; ring feed halves effective length/flow.",children:(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col col--6",children:(0,n.jsx)(g,{label:"Diameter (mm)",value:e.mainline.diameter_mm,onChange:e=>c("mainline","diameter_mm",e)})}),(0,n.jsx)("div",{className:"col col--6",children:(0,n.jsx)(g,{label:"Length (m)",value:e.mainline.length_m,onChange:e=>c("mainline","length_m",e)})}),(0,n.jsx)("div",{className:"col col--6",children:(0,n.jsxs)("label",{style:{display:"block",marginBottom:12},children:[(0,n.jsx)("span",{style:{display:"block",fontSize:"0.85rem",marginBottom:4},children:"Material"}),(0,n.jsxs)("select",{style:{width:"100%",padding:"8px 10px",border:"1px solid var(--ifm-color-emphasis-300)",borderRadius:8},value:e.mainline.material,onChange:e=>c("mainline","material",e.target.value),children:[(0,n.jsx)("option",{value:"PE",children:"PE (C\u2248140)"}),(0,n.jsx)("option",{value:"PVC",children:"PVC (C\u2248150)"})]})]})}),(0,n.jsx)("div",{className:"col col--6",children:(0,n.jsxs)("label",{style:{display:"block",marginBottom:12},children:[(0,n.jsx)("span",{style:{display:"block",fontSize:"0.85rem",marginBottom:4},children:"Location"}),(0,n.jsxs)("select",{style:{width:"100%",padding:"8px 10px",border:"1px solid var(--ifm-color-emphasis-300)",borderRadius:8},value:e.mainline.location,onChange:e=>c("mainline","location",e.target.value),children:[(0,n.jsx)("option",{value:"edge",children:"Field edge"}),(0,n.jsx)("option",{value:"center",children:"Centerline"})]})]})}),(0,n.jsx)("div",{className:"col col--12",children:(0,n.jsx)(f,{label:"Ring / two-end feed",value:e.mainline.ring,onChange:e=>c("mainline","ring",e)})})]})}),(0,n.jsx)(b,{title:"Submains",description:"Spacing sets the number of runs; two-side supply lowers end losses.",children:(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col col--6",children:(0,n.jsx)(g,{label:"Spacing (m)",value:e.submains.spacing_m,onChange:e=>c("submains","spacing_m",e)})}),(0,n.jsx)("div",{className:"col col--6",children:(0,n.jsx)(g,{label:"Diameter (mm)",value:e.submains.diameter_mm,onChange:e=>c("submains","diameter_mm",e)})}),(0,n.jsx)("div",{className:"col col--6",children:(0,n.jsx)(f,{label:"Two-side feed",value:e.submains.twoSideFeed,onChange:e=>c("submains","twoSideFeed",e)})}),(0,n.jsx)("div",{className:"col col--6",children:(0,n.jsx)(g,{label:"Valve every (runs)",value:e.submains.valveEvery,onChange:e=>c("submains","valveEvery",e)})})]})}),(0,n.jsx)(b,{title:"Drip laterals",description:"Emitter spacing/flow and tape pressure determine total demand and headloss.",children:(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col col--6",children:(0,n.jsx)(g,{label:"Tape spacing (m)",value:e.laterals.tapeSpacing_m,onChange:e=>c("laterals","tapeSpacing_m",e)})}),(0,n.jsx)("div",{className:"col col--6",children:(0,n.jsx)(g,{label:"Emitter spacing (cm)",value:e.laterals.emitterSpacing_cm,onChange:e=>c("laterals","emitterSpacing_cm",e)})}),(0,n.jsx)("div",{className:"col col--6",children:(0,n.jsx)(g,{label:"Emitter flow (L/h)",value:e.laterals.emitterFlow_Lph,onChange:e=>c("laterals","emitterFlow_Lph",e)})}),(0,n.jsx)("div",{className:"col col--6",children:(0,n.jsx)(g,{label:"Operating pressure (kPa)",value:e.laterals.operPressure_kPa,onChange:e=>c("laterals","operPressure_kPa",e)})}),(0,n.jsx)("div",{className:"col col--6",children:(0,n.jsx)(g,{label:"Tape length (m)",value:e.laterals.length_m,onChange:e=>c("laterals","length_m",e)})}),(0,n.jsx)("div",{className:"col col--6",children:(0,n.jsx)(f,{label:"Pressure-compensating",value:e.laterals.pressureComp,onChange:e=>c("laterals","pressureComp",e)})})]})}),(0,n.jsxs)("div",{style:{display:"flex",gap:12,justifyContent:"flex-end"},children:[(0,n.jsx)("button",{type:"button",onClick:()=>{if(!t.current)return;const e=new Blob([t.current.outerHTML],{type:"image/svg+xml;charset=utf-8"}),a=URL.createObjectURL(e),i=document.createElement("a");i.href=a,i.download="irrigation-layout.svg",i.click(),URL.revokeObjectURL(a)},className:"button button--primary",children:"Export SVG"}),(0,n.jsx)("button",{type:"button",onClick:()=>a(u),className:"button button--secondary",children:"Reset"})]})]}),(0,n.jsxs)("div",{className:"col col--7",children:[(0,n.jsx)(_,{config:e,layout:r,svgRef:t}),(0,n.jsx)(w,{data:d,config:e}),(0,n.jsx)(k,{warnings:d.warnings}),(0,n.jsxs)("section",{className:"card padding--md margin-bottom--lg",style:{fontSize:"0.9rem"},children:[(0,n.jsx)("div",{style:{fontWeight:600,marginBottom:8},children:"Tips"}),(0,n.jsx)("ul",{style:{paddingLeft:18},children:x.map((e=>(0,n.jsx)("li",{children:e},e)))})]})]})]}),(0,n.jsx)(s.A,{})]})})}}}]);