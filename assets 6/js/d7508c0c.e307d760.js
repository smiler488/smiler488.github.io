"use strict";(self.webpackChunkliangchao_website=self.webpackChunkliangchao_website||[]).push([[4035],{2835:(e,t,n)=>{n.d(t,{A:()=>p});var o=n(6540),r=n(4848);const a={maxWidth:"800px",margin:"60px auto 0",textAlign:"left",padding:"0 20px"},i={fontSize:"2rem",fontWeight:"600",marginBottom:"16px",color:"#000000"},s={fontSize:"1.1rem",color:"#333333",lineHeight:1.6,marginBottom:"16px"},l={borderLeft:"4px solid #cccccc",paddingLeft:"16px",color:"#333333",fontStyle:"italic",lineHeight:1.6,marginBottom:"16px"},d={backgroundColor:"#f6f6f7",padding:"16px",borderRadius:"12px",overflowX:"auto",border:"1px solid #e5e5e7"},c={fontSize:"1.5rem",fontWeight:"600",marginBottom:"16px",color:"#000000"};function p({containerStyle:e}){const[t,n]=(0,o.useState)(!1),[p,y]=(0,o.useState)(!1),u="LiangchaoDeng. (2025). smiler488/smiler488.github.io: Digital Plant Phenotyping Platform v25.0 (v25.0.0). Zenodo. https://doi.org/10.5281/zenodo.17544584",h="@software{Deng2025_DPPP_v25,\n  author       = {Deng, Liangchao},\n  title        = {Digital Plant Phenotyping Platform (v25.0)},\n  year         = {2025},\n  publisher    = {Zenodo},\n  doi          = {10.5281/zenodo.17544584},\n  url          = {https://doi.org/10.5281/zenodo.17544584},\n  note         = {[Computer software]}\n}";return(0,r.jsxs)("div",{style:{...a,...e},children:[(0,r.jsx)("h2",{style:i,children:"Citation"}),(0,r.jsxs)("p",{style:s,children:["If you use ",(0,r.jsx)("strong",{children:"Digital Plant Phenotyping Platform v25.0"})," or any of its applications in your research, please cite it as:"]}),(0,r.jsxs)("blockquote",{style:l,children:["LiangchaoDeng. (2025)."," ",(0,r.jsx)("em",{children:"smiler488/smiler488.github.io: Digital Plant Phenotyping Platform v25.0 (v25.0.0)"}),". Zenodo.",(0,r.jsx)("br",{}),(0,r.jsx)("a",{href:"https://doi.org/10.5281/zenodo.17544584",children:"https://doi.org/10.5281/zenodo.17544584"})]}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"16px",gap:"12px"},children:[(0,r.jsx)("button",{type:"button",onClick:async()=>{try{if("undefined"!=typeof navigator&&navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(u);else if("undefined"!=typeof document){const e=document.createElement("textarea");e.value=u,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}n(!0),setTimeout((()=>n(!1)),2e3)}catch{n(!1)}},style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #000000",backgroundColor:"#000000",color:"#ffffff",cursor:"pointer",fontSize:"0.95rem",fontWeight:500,transition:"transform 0.15s ease, background-color 0.15s ease"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="#333333",e.currentTarget.style.transform="translateY(-1px)"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="#000000",e.currentTarget.style.transform="translateY(0)"},children:t?"Copied!":"Copy citation"}),(0,r.jsx)("span",{style:{fontSize:"0.9rem",color:t?"#007f5f":"#6c6c70"},children:t?"Citation copied to clipboard.":"Click to copy APA citation."})]}),(0,r.jsx)("a",{href:"https://doi.org/10.5281/zenodo.17544584",style:{display:"inline-block",marginBottom:"24px"},children:(0,r.jsx)("img",{src:"https://zenodo.org/badge/DOI/10.5281/zenodo.17544584.svg",alt:"DOI badge",style:{height:"32px"}})}),(0,r.jsx)("hr",{style:{border:"none",borderTop:"1px solid #e5e5e7",marginBottom:"24px"}}),(0,r.jsx)("h3",{style:c,children:"BibTeX citation (Zotero \u2192 File \u2192 Import from Clipboard)"}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"16px",gap:"12px"},children:[(0,r.jsx)("button",{type:"button",onClick:async()=>{try{if("undefined"!=typeof navigator&&navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(h);else if("undefined"!=typeof document){const e=document.createElement("textarea");e.value=h,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}y(!0),setTimeout((()=>y(!1)),2e3)}catch{y(!1)}},style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #000000",backgroundColor:"#000000",color:"#ffffff",cursor:"pointer",fontSize:"0.95rem",fontWeight:500,transition:"transform 0.15s ease, background-color 0.15s ease"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="#333333",e.currentTarget.style.transform="translateY(-1px)"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="#000000",e.currentTarget.style.transform="translateY(0)"},children:p?"Copied!":"Copy BibTeX"}),(0,r.jsx)("span",{style:{fontSize:"0.9rem",color:p?"#007f5f":"#6c6c70"},children:p?"BibTeX copied to clipboard. Switch to Zotero and choose Import from Clipboard.":"Click to copy BibTeX to clipboard for Zotero import."})]}),(0,r.jsx)("pre",{style:d,children:(0,r.jsx)("code",{children:h})})]})}},6506:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var o=n(6540),r=n(3018),a=n(5260),i=n(2835),s=n(4848);const l="undefined"!=typeof window&&window.__CLOUDNOTE_BACKEND_URL__?window.__CLOUDNOTE_BACKEND_URL__:"";function d(e){return Array.prototype.map.call(new Uint8Array(e),(e=>("00"+e.toString(16)).slice(-2))).join("")}function c(e){if(!e)return new Uint8Array;const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++)t[n]=parseInt(e.substr(2*n,2),16);return t.buffer}async function p(e,t){const n=c(t),o=(new TextEncoder).encode(e),r=await window.crypto.subtle.importKey("raw",o,"PBKDF2",!1,["deriveKey"]);return await window.crypto.subtle.deriveKey({name:"PBKDF2",salt:n,iterations:2e5,hash:"SHA-256"},r,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function y(e){const t=c(e);return window.crypto.subtle.importKey("raw",t,"AES-GCM",!1,["decrypt","encrypt"])}async function u(e,t){const n=crypto.getRandomValues(new Uint8Array(12)),o=(new TextEncoder).encode(JSON.stringify(t)),r=await crypto.subtle.encrypt({name:"AES-GCM",iv:n},e,o);return{iv:d(n.buffer),ct:(a=r,btoa(String.fromCharCode(...new Uint8Array(a))))};var a}async function h(e,t,n){const o=c(t),r=function(e){const t=atob(e),n=new Uint8Array(t.length);for(let o=0;o<t.length;o++)n[o]=t.charCodeAt(o);return n.buffer}(n),a=await crypto.subtle.decrypt({name:"AES-GCM",iv:o},e,r),i=(new TextDecoder).decode(a);return JSON.parse(i)}async function f(e,t=""){if(t&&t.length>0){const o=d(crypto.getRandomValues(new Uint8Array(16)).buffer),r=await p(t,o),a=await u(r,e),i={mode:"pw",salt:o,iv:a.iv,ct:a.ct,meta:{v:1}};try{if(e&&e.name){try{window.localStorage.setItem(`cloudnote_store:${e.name}`,JSON.stringify(i))}catch(n){console.warn("Could not save cloudnote to localStorage:",n)}try{await async function(e,t){if(l&&e)try{await fetch(`${l.replace(/\/$/,"")}/notes/${encodeURIComponent(e)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}catch(n){console.warn("backendSavePayload failed",n)}}(e&&e.name,i)}catch(n){console.warn("backend save failed",n)}}}catch(n){console.warn("localStorage unavailable:",n)}return`note=${btoa(JSON.stringify(i))}`}{const t=await async function(){const e=await crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"]);return d(await crypto.subtle.exportKey("raw",e))}(),n=await y(t),o=await u(n,e),r={mode:"key",iv:o.iv,ct:o.ct,meta:{v:1}};return`note=${btoa(JSON.stringify(r))}.${t}`}}async function g(e){try{const n=window.localStorage.getItem(`cloudnote_store:${e}`);if(n)try{return JSON.parse(n)}catch(t){}}catch(t){console.warn("Failed to read stored payload from localStorage:",t)}if(l)try{const n=await async function(e){if(!l||!e)return null;try{const t=await fetch(`${l.replace(/\/$/,"")}/notes/${encodeURIComponent(e)}`);return t.ok?await t.json():null}catch(t){return console.warn("backendFetchPayload failed",t),null}}(e);if(n)return n}catch(t){console.warn("backendFetchPayload error",t)}return null}function x(){const[e,t]=(0,o.useState)(""),[n,l]=(0,o.useState)(""),[d,c]=(0,o.useState)(""),[u,x]=(0,o.useState)(""),[b,w]=(0,o.useState)(!1),[v,j]=(0,o.useState)(""),[C,S]=(0,o.useState)(""),[k,T]=(0,o.useState)(null),[O,A]=(0,o.useState)(!1),[P,I]=(0,o.useState)(""),[R,N]=(0,o.useState)(null),[D,U]=(0,o.useState)(""),[z,B]=(0,o.useState)("");function _(e){if(!e)return!1;if(e.expiresAtISO){const t=new Date(e.expiresAtISO);if(isNaN(t.getTime()));else if(Date.now()>t.getTime())return S("This note has expired."),!1}return!0}function E(){history.replaceState(null,"",location.pathname+location.search),N(null),T(null),S("")}function $(){return!!k&&!k.readOnly}return(0,o.useEffect)((()=>{const e=function(){const e=location.hash||"";if(!e.includes("note="))return null;const t=e.split("note=")[1];if(!t)return null;const[n,o]=t.split(".");try{return{payload:JSON.parse(atob(n)),rawKeyHex:o||null}}catch(r){return null}}();N(e),e&&("pw"===e.payload.mode?(A(!0),S("Protected note \u2014 enter password to open.")):"key"===e.payload.mode?e.rawKeyHex?(async()=>{try{const t=await y(e.rawKeyHex),n=await h(t,e.payload.iv,e.payload.ct);_(n)&&(T(n),S("Opened note from link."))}catch(t){console.error(t),S("Failed to decrypt with key from link.")}})():S("Shared link missing key \u2014 cannot open."):S("Unknown link mode."))}),[]),(0,s.jsxs)(r.A,{title:"Cloud Sticky Notes",children:[(0,s.jsx)(a.A,{children:(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})}),(0,s.jsxs)("div",{className:"app-container",style:{maxWidth:900,padding:"12px"},children:[(0,s.jsxs)("div",{className:"app-header",style:{marginBottom:16},children:[(0,s.jsx)("h1",{className:"app-title",children:"Cloud Sticky Note (static)"}),(0,s.jsx)("a",{className:"button button--secondary",href:"/docs/tutorial-apps/cloud-sticky-note-tutorial",children:"Tutorial"})]}),(0,s.jsx)("p",{style:{color:"#444"},children:"Create a temporary/shareable note. This zero-backend version stores the note encrypted in the URL fragment. Sharing the link allows others to open it. Use a password for higher privacy (recipient must know the password)."}),(0,s.jsxs)("div",{style:{display:"grid",gap:10,marginTop:12},children:[(0,s.jsxs)("label",{children:["Note name",(0,s.jsx)("input",{style:m.input,value:e,onChange:e=>t(e.target.value)})]}),(0,s.jsxs)("label",{children:["Content",(0,s.jsx)("textarea",{rows:8,style:m.textarea,value:n,onChange:e=>l(e.target.value)})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:12},children:[(0,s.jsxs)("label",{style:{flex:1},children:["Expires (optional)",(0,s.jsx)("input",{type:"datetime-local",style:m.input,value:d,onChange:e=>c(e.target.value)})]}),(0,s.jsxs)("label",{style:{flexBasis:200},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,s.jsx)("input",{type:"checkbox",checked:b,onChange:e=>w(e.target.checked)}),(0,s.jsx)("div",{children:"Read-only link"})]}),(0,s.jsx)("small",{style:{color:"#666"},children:"Marking read-only is advisory in static links."})]}),(0,s.jsxs)("label",{style:{flexBasis:260},children:[(0,s.jsx)("div",{children:"Protect with password (optional)"}),(0,s.jsx)("input",{style:m.input,value:u,onChange:e=>x(e.target.value),placeholder:"Optional password"}),(0,s.jsx)("small",{style:{color:"#666"},children:"If set, recipients will need the password to open the note."})]})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:10},children:[(0,s.jsx)("button",{onClick:async function(){try{S("Generating link...");const t={name:e||"Untitled",content:n||"",createdAtISO:(new Date).toISOString(),expiresAtISO:d?new Date(d).toISOString():null,readOnly:!!b},o=await f(t,u),r=`${location.origin}${location.pathname}#${o}`;j(r),S("Link generated. Copy and share.")}catch(t){console.error(t),S("Failed to generate link: "+t.message)}},style:m.btnPrimary,children:"Generate share link"}),(0,s.jsx)("button",{onClick:function(){v&&navigator.clipboard.writeText(v).then((()=>S("Link copied to clipboard."))).catch((e=>S("Copy failed: "+e.message)))},style:m.btnSecondary,disabled:!v,children:"Copy link"}),(0,s.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(n||"")},style:m.btnGhost,children:"Copy content"}),(0,s.jsx)("button",{onClick:()=>{t(""),l(""),c(""),x(""),w(!1),j(""),S("")},style:m.btnGhost,children:"Reset"})]}),v&&(0,s.jsxs)("div",{style:{background:"#f5f5f7",padding:8,borderRadius:6},children:[(0,s.jsx)("div",{style:{fontSize:13},children:"Share link (fragment)"}),(0,s.jsx)("textarea",{readOnly:!0,rows:2,style:m.shareArea,value:v})]}),(0,s.jsxs)("div",{style:{marginTop:6},children:[(0,s.jsx)("strong",{children:"Status:"})," ",C]}),(0,s.jsx)("hr",{}),(0,s.jsx)("h3",{children:"Open shared note (from URL)"}),(0,s.jsxs)("div",{style:{marginTop:12},children:[(0,s.jsx)("h4",{children:"Open by name & password"}),(0,s.jsxs)("div",{style:{display:"grid",gap:8,maxWidth:520},children:[(0,s.jsxs)("label",{children:["Note name",(0,s.jsx)("input",{style:m.input,value:D,onChange:e=>U(e.target.value)})]}),(0,s.jsxs)("label",{children:["Password",(0,s.jsx)("input",{type:"password",style:m.input,value:z,onChange:e=>B(e.target.value)})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,s.jsx)("button",{onClick:async function(){if(!D)return void S("Please enter a note name to open.");const e=await g(D);if(e)if("pw"===e.mode)if(z)try{const t=await p(z,e.salt),n=await h(t,e.iv,e.ct);if(!_(n))return;T(n),S("Opened note by name + password."),A(!1),N(null)}catch(t){console.error(t),S("Wrong password or decryption failed.")}else S("Please enter the password to open this note.");else S("Stored note is not password-protected or cannot be opened by name/password.");else S("No stored note with that name found in this browser.")},style:m.btnPrimary,children:"Open"}),(0,s.jsx)("button",{onClick:()=>{U(""),B(""),S("")},style:m.btnGhost,children:"Clear"})]}),(0,s.jsx)("div",{style:{color:"#666",fontSize:13},children:"Notes saved by password-protected generation (this browser) are accessible by entering the same name and password."})]})]}),R?(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{style:{padding:8,background:"#f5f5f7",borderRadius:6},children:["Parsed shared link found in URL fragment. Mode: ",(0,s.jsx)("b",{children:R.payload.mode}),"."]}),"pw"===R.payload.mode&&(0,s.jsxs)("div",{style:{marginTop:8},children:[(0,s.jsx)("label",{children:"Enter password to open"}),(0,s.jsx)("input",{style:m.input,value:P,onChange:e=>I(e.target.value)}),(0,s.jsxs)("div",{style:{display:"flex",gap:8,marginTop:8},children:[(0,s.jsx)("button",{onClick:async function(){if(R)try{const e=await p(P,R.payload.salt),t=await h(e,R.payload.iv,R.payload.ct);if(!_(t))return;T(t),S("Opened note with password."),A(!1)}catch(e){console.error(e),S("Wrong password or decryption failed.")}},style:m.btnPrimary,children:"Open"}),(0,s.jsx)("button",{onClick:E,style:m.btnGhost,children:"Clear"})]})]}),"key"===R.payload.mode&&(0,s.jsxs)("div",{style:{marginTop:8},children:[(0,s.jsx)("div",{children:"Key present in fragment (auto-decrypt attempted)."}),(0,s.jsx)("div",{style:{display:"flex",gap:8,marginTop:8},children:(0,s.jsx)("button",{onClick:E,style:m.btnGhost,children:"Clear"})})]})]}):(0,s.jsxs)("div",{children:["No share fragment found in URL. To open a note, paste a link with ",(0,s.jsx)("code",{children:"#note=..."})," and reload."]}),k&&(0,s.jsxs)("div",{style:{marginTop:12,padding:12,borderRadius:8,background:"#f5f5f7"},children:[(0,s.jsx)("h3",{children:k.name}),(0,s.jsxs)("div",{style:{color:"#666",fontSize:13},children:["Created: ",k.createdAtISO,k.expiresAtISO&&(0,s.jsxs)("span",{children:[" \xb7 Expires: ",k.expiresAtISO]}),k.readOnly&&(0,s.jsx)("span",{children:" \xb7 Read-only"})]}),(0,s.jsx)("div",{style:{marginTop:8},children:(0,s.jsx)("textarea",{style:m.textarea,rows:8,value:k.content,readOnly:!$(),onChange:e=>T({...k,content:e.target.value})})}),(0,s.jsxs)("div",{style:{display:"flex",gap:8,marginTop:10},children:[(0,s.jsx)("button",{disabled:!$(),onClick:async()=>{await async function(){if(!k)return;const e={...k,content:k.content,createdAtISO:k.createdAtISO||(new Date).toISOString()};let t="";R&&"pw"===R.payload.mode&&(t=P);const n=await f(e,t),o=`${location.origin}${location.pathname}#${n}`;j(o),S("Regenerated link for edited note. Copy to share.")}()},style:m.btnPrimary,children:"Save edits & regenerate link"}),(0,s.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(k.content||"")},style:m.btnSecondary,children:"Copy content"}),(0,s.jsx)("button",{onClick:E,style:m.btnGhost,children:"Close"})]})]})]}),(0,s.jsx)(i.A,{})]})]})}const m={input:{width:"100%",padding:"8px 10px",marginTop:6,borderRadius:6,border:"1px solid #ccc"},textarea:{width:"100%",padding:"8px 10px",marginTop:6,borderRadius:6,border:"1px solid #ccc",fontFamily:"inherit"},shareArea:{width:"100%",borderRadius:6,border:"1px solid #ddd",padding:6},btnPrimary:{background:"#6c6c70",color:"#ffffff",padding:"8px 12px",borderRadius:6,border:"1px solid #6c6c70",cursor:"pointer"},btnSecondary:{background:"#6c6c70",color:"#ffffff",padding:"8px 12px",borderRadius:6,border:"1px solid #6c6c70",cursor:"pointer"},btnGhost:{background:"#fff",color:"#111",padding:"8px 12px",borderRadius:6,border:"1px solid #ddd",cursor:"pointer"}}}}]);