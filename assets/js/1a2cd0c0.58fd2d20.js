"use strict";(self.webpackChunkliangchao_website=self.webpackChunkliangchao_website||[]).push([[4737],{125:(e,t,o)=>{o.r(t),o.d(t,{default:()=>p});var r=o(6540),n=o(3018),i=o(2835),a=o(4848);const l=6378137,s=e=>e*Math.PI/180;const d={page:{padding:"3rem 1rem",background:"linear-gradient(180deg, #f8fafc 0%, #eef2ff 100%)",minHeight:"100vh"},card:{backgroundColor:"#ffffff",borderRadius:"20px",padding:"2.5rem",maxWidth:"1100px",margin:"0 auto",boxShadow:"0 40px 80px rgba(15, 23, 42, 0.08)",border:"1px solid rgba(99, 102, 241, 0.15)"},sectionTitle:{margin:0,fontSize:"2rem",fontWeight:700,color:"#111827"},sectionLead:{marginTop:"0.75rem",marginBottom:"1.5rem",color:"#4b5563",lineHeight:1.7},form:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"1rem",alignItems:"end",marginBottom:"1.5rem"},formGroup:{display:"flex",flexDirection:"column",gap:"0.35rem"},label:{fontWeight:600,fontSize:"0.95rem",color:"#1f2937"},input:{borderRadius:"10px",border:"1px solid rgba(99, 102, 241, 0.4)",padding:"0.65rem 0.9rem",fontSize:"0.95rem"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"1.5rem"},panel:{border:"1px solid rgba(15, 23, 42, 0.08)",borderRadius:"16px",padding:"1.5rem",background:"rgba(249, 250, 251, 0.95)"},panelHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem",color:"#475569",fontSize:"0.92rem"},previewCanvas:{borderRadius:"14px",border:"1px dashed rgba(148, 163, 184, 0.7)",background:"linear-gradient(135deg, rgba(99, 102, 241, 0.08), rgba(16, 185, 129, 0.08))",padding:"0.5rem",minHeight:"280px",display:"flex",alignItems:"center",justifyContent:"center"},list:{listStyle:"none",margin:0,padding:0,display:"flex",flexDirection:"column",gap:"1rem"},listItem:{display:"flex",justifyContent:"space-between",gap:"1rem",border:"1px solid rgba(148, 163, 184, 0.6)",borderRadius:"12px",padding:"1rem"},areaCard:{marginTop:"1rem",padding:"1rem",borderRadius:"12px",background:"rgba(22, 163, 74, 0.08)",border:"1px solid rgba(22, 163, 74, 0.4)",color:"#15803d"},feedback:{marginBottom:"1.5rem",padding:"0.85rem 1rem",borderRadius:"10px",fontWeight:600},feedbackOk:{background:"rgba(16, 185, 129, 0.12)",border:"1px solid rgba(16, 185, 129, 0.4)",color:"#047857"},feedbackError:{background:"rgba(248, 113, 113, 0.12)",border:"1px solid rgba(248, 113, 113, 0.5)",color:"#b91c1c"}};function c(){const[e,t]=(0,r.useState)([]),[o,n]=(0,r.useState)(""),[c,p]=(0,r.useState)(""),[g,u]=(0,r.useState)(""),[m,h]=(0,r.useState)(""),[x,b]=(0,r.useState)(!1),[f,y]=(0,r.useState)(!1),j="undefined"!=typeof window&&"geolocation"in navigator,v=(0,r.useCallback)(((e,o,r="Manual entry")=>{t((t=>[...t,{id:`${Date.now()}-${Math.random()}`,lat:e,lng:o,source:r}])),n(""),p(""),h(""),u(`Added ${r} point`),b(!1)}),[]),C=(0,r.useMemo)((()=>{if(!e.length)return[];const t=e.map((e=>e.lat)),o=e.map((e=>e.lng)),r=Math.min(...t),n=Math.max(...t),i=Math.min(...o),a=Math.max(...o),l=Math.max(1e-5,n-r),s=Math.max(1e-5,a-i);return e.map((e=>({x:(e.lng-i)/s*100,y:100-(e.lat-r)/l*100})))}),[e]),k=C.map((e=>`${e.x},${e.y}`)).join(" "),w=(0,r.useMemo)((()=>x?function(e){if(e.length<3)return 0;const t=e.reduce(((e,t)=>e+t.lat),0)/e.length,o=e.reduce(((e,t)=>e+t.lng),0)/e.length,r=s(t),n=s(o),i=e.map((e=>{const t=s(e.lat),o=s(e.lng);return{x:l*(o-n)*Math.cos(r),y:l*(t-r)}}));let a=0;for(let l=0;l<i.length;l+=1){const e=(l+1)%i.length;a+=i[l].x*i[e].y-i[e].x*i[l].y}return Math.abs(a)/2}(e):0),[x,e]),S=w/1e4,P=w/666.6667,T=g&&!m?{...d.feedback,...d.feedbackOk}:m?{...d.feedback,...d.feedbackError}:null;return(0,a.jsxs)("div",{style:d.page,children:[(0,a.jsxs)("div",{style:d.card,children:[(0,a.jsxs)("header",{className:"app-header",children:[(0,a.jsx)("h1",{className:"app-title",children:"Land Surveyor \xb7 GPS Area Tool"}),(0,a.jsx)("a",{className:"button button--secondary",href:"/docs/tutorial-apps/land-surveyor-tutorial",children:"Tutorial"}),(0,a.jsx)("p",{style:d.sectionLead,children:"Record parcel vertices sequentially via manual coordinates or phone GPS. The tool draws each segment in real time, and once closed it calculates the polygon area in square meters, hectares, and mu."})]}),(0,a.jsxs)("form",{style:d.form,onSubmit:e=>{e.preventDefault();const t=parseFloat(o),r=parseFloat(c);Number.isNaN(t)||Number.isNaN(r)?h("Please enter valid decimal latitude and longitude."):t>90||t<-90||r>180||r<-180?h("Latitude must be within -90 to 90 and longitude within -180 to 180."):v(t,r)},children:[(0,a.jsxs)("div",{style:d.formGroup,children:[(0,a.jsx)("label",{htmlFor:"latInput",style:d.label,children:"Latitude (Lat)"}),(0,a.jsx)("input",{id:"latInput",type:"number",step:"0.000001",placeholder:"e.g. 34.266889",value:o,onChange:e=>n(e.target.value),style:d.input})]}),(0,a.jsxs)("div",{style:d.formGroup,children:[(0,a.jsx)("label",{htmlFor:"lngInput",style:d.label,children:"Longitude (Lng)"}),(0,a.jsx)("input",{id:"lngInput",type:"number",step:"0.000001",placeholder:"e.g. 108.942233",value:c,onChange:e=>p(e.target.value),style:d.input})]}),(0,a.jsx)("button",{type:"submit",className:"button button--primary",children:"Add Point"}),(0,a.jsx)("button",{type:"button",className:"button button--secondary",onClick:()=>{j?(y(!0),u("Fetching location..."),navigator.geolocation.getCurrentPosition((e=>{const{latitude:t,longitude:o,accuracy:r}=e.coords;v(t,o,r?`Device GPS \xb1${Math.round(r)}m`:"Device GPS"),y(!1)}),(e=>{h(e?.message||"Failed to fetch location. Please check browser permissions."),y(!1)}),{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})):h("Geolocation is not supported in this browser.")},disabled:!j||f,children:f?"Locating...":"Use Device Location"}),(0,a.jsx)("button",{type:"button",className:"button button--secondary",onClick:()=>{e.length<3?h("You need at least 3 points to close the polygon."):(b(!0),u("Polygon closed. Area is available below."))},children:"Close Polygon"}),(0,a.jsx)("button",{type:"button",className:"button button--outline",onClick:()=>{t([]),b(!1),n(""),p(""),u(""),h("")},children:"Reset"})]}),(g||m)&&(0,a.jsx)("div",{style:T,children:m||g}),(0,a.jsxs)("div",{style:d.grid,children:[(0,a.jsxs)("div",{style:d.panel,children:[(0,a.jsxs)("div",{style:d.panelHeader,children:[(0,a.jsx)("strong",{children:"Live Polyline Preview"}),(0,a.jsx)("span",{children:e.length?`Captured ${e.length} point${1===e.length?"":"s"}`:"Awaiting coordinates..."})]}),(0,a.jsx)("div",{style:d.previewCanvas,children:C.length?(0,a.jsxs)("svg",{viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid meet",style:{width:"100%",height:"260px"},children:[C.map(((t,o)=>(0,a.jsx)("circle",{cx:t.x,cy:t.y,r:"1.8",fill:"#0ea5e9",stroke:"#0f172a",strokeWidth:"0.3",children:(0,a.jsx)("title",{children:`Point ${o+1}: ${e[o].lat.toFixed(6)}, ${e[o].lng.toFixed(6)}`})},`${t.x}-${t.y}-${o}`))),C.length>=2&&(x?(0,a.jsx)("polygon",{points:k,fill:"rgba(67, 160, 71, 0.28)",stroke:"#4caf50",strokeWidth:"0.6"}):(0,a.jsx)("polyline",{points:k,fill:"none",stroke:"#4caf50",strokeWidth:"0.6"}))]}):(0,a.jsx)("p",{children:"Add at least two points to preview the live polyline."})}),x&&(0,a.jsxs)("div",{style:d.areaCard,children:[(0,a.jsx)("p",{style:{margin:0},children:"Area estimate:"}),(0,a.jsxs)("strong",{style:{fontSize:"1.4rem"},children:[w.toFixed(2)," m\xb2"]}),(0,a.jsxs)("span",{children:["\u2248 ",S.toFixed(4)," ha \xb7 ",P.toFixed(2)," mu"]})]})]}),(0,a.jsxs)("div",{style:d.panel,children:[(0,a.jsxs)("div",{style:d.panelHeader,children:[(0,a.jsx)("strong",{children:"Coordinate List"}),e.length>=3&&!x&&(0,a.jsx)("span",{children:'Click "Close Polygon" to compute area.'})]}),e.length?(0,a.jsx)("ol",{style:d.list,children:e.map(((e,o)=>(0,a.jsxs)("li",{style:d.listItem,children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("strong",{children:["Point ",o+1]}),(0,a.jsxs)("p",{style:{margin:"0.2rem 0",color:"#334155"},children:["Latitude: ",e.lat.toFixed(6)]}),(0,a.jsxs)("p",{style:{margin:"0.2rem 0",color:"#334155"},children:["Longitude: ",e.lng.toFixed(6)]}),(0,a.jsxs)("p",{style:{margin:"0.2rem 0",color:"#475569"},children:["Source: ",e.source]})]}),(0,a.jsx)("button",{type:"button",className:"button button--sm button--outline",onClick:()=>{return o=e.id,t((e=>e.filter((e=>e.id!==o)))),void b(!1);var o},children:"Delete"})]},e.id)))}):(0,a.jsx)("p",{style:{padding:"1rem",textAlign:"center",color:"#475569",background:"rgba(148, 163, 184, 0.1)",borderRadius:"10px"},children:"No coordinates yet. Add a point to get started."})]})]})]}),(0,a.jsx)(i.A,{})]})}function p(){return(0,a.jsx)(n.A,{title:"Land Surveyor",children:(0,a.jsx)(c,{})})}},2835:(e,t,o)=>{o.d(t,{A:()=>p});var r=o(6540),n=o(4848);const i={maxWidth:"800px",margin:"60px auto 0",textAlign:"left",padding:"0 20px"},a={fontSize:"2rem",fontWeight:"600",marginBottom:"16px",color:"#000000"},l={fontSize:"1.1rem",color:"#333333",lineHeight:1.6,marginBottom:"16px"},s={borderLeft:"4px solid #cccccc",paddingLeft:"16px",color:"#333333",fontStyle:"italic",lineHeight:1.6,marginBottom:"16px"},d={backgroundColor:"#f6f6f7",padding:"16px",borderRadius:"12px",overflowX:"auto",border:"1px solid #e5e5e7"},c={fontSize:"1.5rem",fontWeight:"600",marginBottom:"16px",color:"#000000"};function p({containerStyle:e}){const[t,o]=(0,r.useState)(!1),[p,g]=(0,r.useState)(!1),u="LiangchaoDeng. (2025). smiler488/smiler488.github.io: Digital Plant Phenotyping Platform v25.0 (v25.0.0). Zenodo. https://doi.org/10.5281/zenodo.17544584",m="@software{Deng2025_DPPP_v25,\n  author       = {Deng, Liangchao},\n  title        = {Digital Plant Phenotyping Platform (v25.0)},\n  year         = {2025},\n  publisher    = {Zenodo},\n  doi          = {10.5281/zenodo.17544584},\n  url          = {https://doi.org/10.5281/zenodo.17544584},\n  note         = {[Computer software]}\n}";return(0,n.jsxs)("div",{style:{...i,...e},children:[(0,n.jsx)("h2",{style:a,children:"Citation"}),(0,n.jsxs)("p",{style:l,children:["If you use ",(0,n.jsx)("strong",{children:"Digital Plant Phenotyping Platform v25.0"})," or any of its applications in your research, please cite it as:"]}),(0,n.jsxs)("blockquote",{style:s,children:["LiangchaoDeng. (2025)."," ",(0,n.jsx)("em",{children:"smiler488/smiler488.github.io: Digital Plant Phenotyping Platform v25.0 (v25.0.0)"}),". Zenodo.",(0,n.jsx)("br",{}),(0,n.jsx)("a",{href:"https://doi.org/10.5281/zenodo.17544584",children:"https://doi.org/10.5281/zenodo.17544584"})]}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"16px",gap:"12px"},children:[(0,n.jsx)("button",{type:"button",onClick:async()=>{try{if("undefined"!=typeof navigator&&navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(u);else if("undefined"!=typeof document){const e=document.createElement("textarea");e.value=u,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}o(!0),setTimeout((()=>o(!1)),2e3)}catch{o(!1)}},style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #000000",backgroundColor:"#000000",color:"#ffffff",cursor:"pointer",fontSize:"0.95rem",fontWeight:500,transition:"transform 0.15s ease, background-color 0.15s ease"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="#333333",e.currentTarget.style.transform="translateY(-1px)"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="#000000",e.currentTarget.style.transform="translateY(0)"},children:t?"Copied!":"Copy citation"}),(0,n.jsx)("span",{style:{fontSize:"0.9rem",color:t?"#007f5f":"#6c6c70"},children:t?"Citation copied to clipboard.":"Click to copy APA citation."})]}),(0,n.jsx)("a",{href:"https://doi.org/10.5281/zenodo.17544584",style:{display:"inline-block",marginBottom:"24px"},children:(0,n.jsx)("img",{src:"https://zenodo.org/badge/DOI/10.5281/zenodo.17544584.svg",alt:"DOI badge",style:{height:"32px"}})}),(0,n.jsx)("hr",{style:{border:"none",borderTop:"1px solid #e5e5e7",marginBottom:"24px"}}),(0,n.jsx)("h3",{style:c,children:"BibTeX citation (Zotero \u2192 File \u2192 Import from Clipboard)"}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"16px",gap:"12px"},children:[(0,n.jsx)("button",{type:"button",onClick:async()=>{try{if("undefined"!=typeof navigator&&navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(m);else if("undefined"!=typeof document){const e=document.createElement("textarea");e.value=m,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}g(!0),setTimeout((()=>g(!1)),2e3)}catch{g(!1)}},style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #000000",backgroundColor:"#000000",color:"#ffffff",cursor:"pointer",fontSize:"0.95rem",fontWeight:500,transition:"transform 0.15s ease, background-color 0.15s ease"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="#333333",e.currentTarget.style.transform="translateY(-1px)"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="#000000",e.currentTarget.style.transform="translateY(0)"},children:p?"Copied!":"Copy BibTeX"}),(0,n.jsx)("span",{style:{fontSize:"0.9rem",color:p?"#007f5f":"#6c6c70"},children:p?"BibTeX copied to clipboard. Switch to Zotero and choose Import from Clipboard.":"Click to copy BibTeX to clipboard for Zotero import."})]}),(0,n.jsx)("pre",{style:d,children:(0,n.jsx)("code",{children:m})})]})}}}]);