"use strict";(self.webpackChunkliangchao_website=self.webpackChunkliangchao_website||[]).push([[9280],{1457:(e,t,i)=>{i.r(t),i.d(t,{default:()=>a});var d=i(6540),s=i(1656),r=i(5260),n=i(6025),l=i(4848);function a(){return(0,d.useEffect)((()=>{function e(){window.STEREO_INIT&&"function"==typeof window.STEREO_INIT&&window.STEREO_INIT()}e();const t=()=>e();return window.addEventListener("stereo_ready",t),()=>window.removeEventListener("stereo_ready",t)}),[]),(0,l.jsxs)(s.A,{title:"Stereo Rectification",children:[(0,l.jsxs)(r.A,{children:[(0,l.jsx)("script",{src:"https://docs.opencv.org/4.11.0/opencv.js",defer:!0,crossOrigin:"anonymous"}),(0,l.jsx)("script",{src:"https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js",defer:!0}),(0,l.jsx)("script",{src:(0,n.Ay)("js/stereo_app.js"),defer:!0})]}),(0,l.jsxs)("div",{style:{maxWidth:1200,margin:"0 auto",padding:16},children:[(0,l.jsx)("h1",{style:{margin:0},children:"Stereo Rectification App"}),(0,l.jsx)("p",{style:{color:"#555",marginTop:6},children:"Select your stereo UVC camera (side-by-side 1280\xd7480 recommended), start the stream, and preview rectified left/right images computed from your calibration (K, D, R, T). You can capture the rectified pair and download as individual PNGs or a ZIP."}),(0,l.jsxs)("fieldset",{style:{border:"1px solid #e5e5e5",borderRadius:8,padding:12,marginTop:12},children:[(0,l.jsx)("legend",{children:(0,l.jsx)("b",{children:"Camera"})}),(0,l.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr auto auto",gap:10,alignItems:"end"},children:[(0,l.jsxs)("label",{children:["Video device",(0,l.jsx)("select",{id:"deviceSelect",style:{display:"block",marginTop:6}})]}),(0,l.jsxs)("label",{children:["Width",(0,l.jsx)("input",{id:"widthInput",type:"number",defaultValue:"1280",style:{width:"100%"}})]}),(0,l.jsxs)("label",{children:["Height",(0,l.jsx)("input",{id:"heightInput",type:"number",defaultValue:"480",style:{width:"100%"}})]}),(0,l.jsx)("button",{id:"startBtn",type:"button",children:"Start"}),(0,l.jsx)("button",{id:"stopBtn",type:"button",disabled:!0,children:"Stop"})]}),(0,l.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr",gap:10,marginTop:10,alignItems:"center"},children:[(0,l.jsx)("label",{htmlFor:"leafIdInput",style:{textAlign:"right"},children:"Leaf ID"}),(0,l.jsx)("input",{id:"leafIdInput",type:"text",placeholder:"e.g., cultivarA_leaf07"})]}),(0,l.jsx)("div",{style:{marginTop:8,fontSize:12,color:"#666"},children:"Tip: many stereo UVC devices expose a single side-by-side frame. This app splits it into 640\xd7480 left/right."})]}),(0,l.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,marginTop:16,alignItems:"start"},children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{style:{fontWeight:600,marginBottom:6},children:"Original (side-by-side)"}),(0,l.jsx)("video",{id:"video",playsInline:!0,muted:!0,autoPlay:!0,style:{width:"100%",border:"1px solid #ddd",borderRadius:8}}),(0,l.jsx)("canvas",{id:"rawCanvas",width:"1280",height:"480",style:{display:"none"}})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{style:{fontWeight:600,marginBottom:6},children:"Rectified (Left / Right / Depth)"}),(0,l.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:8},children:[(0,l.jsx)("canvas",{id:"leftRect",width:"640",height:"480",style:{width:"100%",border:"1px solid #ddd",borderRadius:8}}),(0,l.jsx)("canvas",{id:"rightRect",width:"640",height:"480",style:{width:"100%",border:"1px solid #ddd",borderRadius:8}}),(0,l.jsx)("canvas",{id:"depthCanvas",width:"640",height:"480",style:{width:"100%",border:"1px solid #ddd",borderRadius:8}})]}),(0,l.jsx)("div",{id:"status",style:{color:"#777",marginTop:8,fontSize:13},children:"Idle"})]})]}),(0,l.jsxs)("div",{style:{marginTop:12,display:"flex",gap:10,flexWrap:"wrap",alignItems:"center"},children:[(0,l.jsx)("button",{id:"captureBtn",type:"button",disabled:!0,children:"Capture rectified"}),(0,l.jsx)("button",{id:"computeDepthBtn",type:"button",disabled:!0,children:"Compute depth"}),(0,l.jsx)("button",{id:"captureDepthBtn",type:"button",disabled:!0,children:"Capture depth"}),(0,l.jsx)("button",{id:"downloadZipBtn",type:"button",disabled:!0,children:"Download ZIP"}),(0,l.jsx)("div",{id:"capturesList",style:{fontSize:13,color:"#555"}})]})]})]})}}}]);