"use strict";(self.webpackChunkliangchao_website=self.webpackChunkliangchao_website||[]).push([[8681],{17921:(e,r,t)=>{function i(){const e="undefined"!=typeof window?window.localStorage.getItem("app_users"):null;if(!e)return[];try{return JSON.parse(e)||[]}catch{return[]}}function o(e){return Array.prototype.map.call(new Uint8Array(e),(e=>("00"+e.toString(16)).slice(-2))).join("")}async function n(e,r){const t=(new TextEncoder).encode(e),i=function(e){const r=new Uint8Array(e.length/2);for(let t=0;t<r.length;t++)r[t]=parseInt(e.substr(2*t,2),16);return r.buffer}(r),n=await crypto.subtle.importKey("raw",t,"PBKDF2",!1,["deriveBits"]);return o(await crypto.subtle.deriveBits({name:"PBKDF2",salt:i,iterations:15e4,hash:"SHA-256"},n,256))}async function s(e,r){const t=i();if(t.find((r=>r.email.toLowerCase()===String(e).toLowerCase())))throw new Error("Email already registered");const s=o(crypto.getRandomValues(new Uint8Array(16)).buffer),a=await n(r,s);return t.push({email:e,saltHex:s,hashHex:a,createdAt:(new Date).toISOString()}),function(e){"undefined"!=typeof window&&window.localStorage.setItem("app_users",JSON.stringify(e))}(t),d({email:e}),{email:e}}async function a(e,r){const t=i().find((r=>r.email.toLowerCase()===String(e).toLowerCase()));if(!t)throw new Error("Account not found");if(await n(r,t.saltHex)!==t.hashHex)throw new Error("Invalid credentials");return d({email:e}),{email:e}}function l(){if("undefined"==typeof window)return null;const e=window.localStorage.getItem("app_session");if(!e)return null;try{return JSON.parse(e)||null}catch{return null}}function d(e){"undefined"!=typeof window&&window.localStorage.setItem("app_session",JSON.stringify({email:e.email,at:Date.now()}))}function c(){"undefined"!=typeof window&&window.localStorage.removeItem("app_session")}t.d(r,{Ht:()=>l,iD:()=>a,kz:()=>s,ri:()=>c})},34619:(e,r,t)=>{t.d(r,{A:()=>a});var i=t(96540),o=t(17921),n=t(95082),s=t(74848);function a({children:e}){const[r,t]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{const e=(0,n.b)();if(e){e.auth.getUser().then((({data:e})=>{const r=!!e?.user;t(r),"undefined"!=typeof window&&(window.__APP_AUTH_OK__=r)}));const{data:r}=e.auth.onAuthStateChange(((e,r)=>{const i=!!r?.user;t(i),"undefined"!=typeof window&&(window.__APP_AUTH_OK__=i)}));return()=>r?.subscription?.unsubscribe?.()}const r=!!(0,o.Ht)();t(r),"undefined"!=typeof window&&(window.__APP_AUTH_OK__=r)}),[]),(0,s.jsxs)("div",{children:[!r&&(0,s.jsx)("div",{className:"app-card",style:{marginBottom:12},children:(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsx)("span",{className:"app-muted",children:"Please login to use app features"}),(0,s.jsx)("a",{className:"button button--secondary",href:"/auth",children:"Login / Register"})]})}),e]})}},50648:(e,r,t)=>{t.r(r),t.d(r,{default:()=>d});var i=t(96540),o=t(39495),n=t(5260),s=t(62835),a=t(34619),l=t(74848);const d=()=>((0,i.useEffect)((()=>{function e(){window.CCO_INIT&&"function"==typeof window.CCO_INIT&&window.CCO_INIT()}e();const r=()=>e();return window.addEventListener("cco_ready",r),()=>window.removeEventListener("cco_ready",r)}),[]),(0,l.jsxs)(o.A,{title:"CCO Waylines Builder",children:[(0,l.jsxs)(n.A,{children:[(0,l.jsx)("script",{src:"https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js",defer:!0}),(0,l.jsx)("script",{src:"/js/cco_app.js",defer:!0})]}),(0,l.jsxs)("div",{className:"app-container",style:{padding:16},children:[(0,l.jsxs)("div",{className:"app-header",style:{marginBottom:16},children:[(0,l.jsx)("h1",{className:"app-title",children:"CCO Waylines Builder"}),(0,l.jsx)("a",{className:"button button--secondary",href:"/docs/tutorial-apps/cco-mission-planner-tutorial",children:"Tutorial"})]}),(0,l.jsx)(a.A,{}),(0,l.jsx)("p",{style:{color:"var(--ifm-color-emphasis-700)",marginTop:6},children:"Upload a target-area KML (single Polygon), set parameters, and preview the \u201ccross-oblique orbit\u201d route. Supports snake stitching, grid rotation, Clip/Prune, auto step, multi-part downloads, and DJI drone/payload enums."}),(0,l.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"minmax(320px, 420px) 1fr",gap:16,alignItems:"start"},children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("fieldset",{style:{border:"1px solid var(--ifm-border-color)",borderRadius:8,padding:12},children:[(0,l.jsx)("legend",{children:(0,l.jsx)("b",{children:"Target Area"})}),(0,l.jsxs)("label",{children:["Upload KML (Polygon)",(0,l.jsx)("input",{id:"kmlFile",type:"file",accept:".kml",style:{display:"block",marginTop:6}})]}),(0,l.jsx)("div",{style:{marginTop:8,fontSize:12,color:"var(--ifm-color-emphasis-600)"},children:"Only a single Polygon <coordinates> is supported."})]}),(0,l.jsxs)("fieldset",{style:{border:"1px solid var(--ifm-border-color)",borderRadius:8,padding:12,marginTop:12},children:[(0,l.jsx)("legend",{children:(0,l.jsx)("b",{children:"Coverage Parameters"})}),(0,l.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:10},children:[(0,l.jsxs)("label",{children:["Circle radius (m)",(0,l.jsx)("input",{id:"radius",type:"number",step:"0.5",defaultValue:"7"})]}),(0,l.jsxs)("label",{children:["Pts/circle",(0,l.jsx)("input",{id:"perRing",type:"number",step:"1",defaultValue:"18"})]}),(0,l.jsxs)("label",{children:["Overlap (0~0.9)",(0,l.jsx)("input",{id:"overlap",type:"number",step:"0.01",defaultValue:"0.25"})]}),(0,l.jsxs)("label",{children:["Center step (m, 0=auto)",(0,l.jsx)("input",{id:"centerStep",type:"number",step:"1",defaultValue:"0"})]}),(0,l.jsxs)("label",{children:["Padding (m)",(0,l.jsx)("input",{id:"padding",type:"number",step:"1",defaultValue:"10"})]}),(0,l.jsxs)("label",{children:["Grid bearing (\xb0)",(0,l.jsx)("input",{id:"bearing",type:"number",step:"1",defaultValue:"30"})]}),(0,l.jsxs)("label",{children:["Start bearing (\xb0)",(0,l.jsx)("input",{id:"startBearing",type:"number",step:"1",defaultValue:"0"})]}),(0,l.jsxs)("label",{children:["Center mode",(0,l.jsxs)("select",{id:"centerMode",defaultValue:"centroid",children:[(0,l.jsx)("option",{value:"centroid",children:"Centroid"}),(0,l.jsx)("option",{value:"bbox_center",children:"BBox center"})]})]}),(0,l.jsxs)("label",{children:["Clip inside",(0,l.jsxs)("select",{id:"clipInside",defaultValue:"0",children:[(0,l.jsx)("option",{value:"1",children:"Yes"}),(0,l.jsx)("option",{value:"0",children:"No"})]})]}),(0,l.jsxs)("label",{children:["Prune outside centers",(0,l.jsxs)("select",{id:"pruneOutside",defaultValue:"1",children:[(0,l.jsx)("option",{value:"1",children:"Yes"}),(0,l.jsx)("option",{value:"0",children:"No"})]})]})]}),(0,l.jsx)("div",{style:{marginTop:8,fontSize:12,color:"var(--ifm-color-emphasis-600)"},children:"Auto step = max(2*R*(1-overlap), 1 m). Set Grid bearing to obtain a cross\u2011oblique coverage pattern."})]}),(0,l.jsxs)("fieldset",{style:{border:"1px solid var(--ifm-border-color)",borderRadius:8,padding:12,marginTop:12},children:[(0,l.jsx)("legend",{children:(0,l.jsx)("b",{children:"Flight & Camera"})}),(0,l.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:10},children:[(0,l.jsxs)("label",{children:["Altitude (m)",(0,l.jsx)("input",{id:"alt",type:"number",step:"1",defaultValue:"7"})]}),(0,l.jsxs)("label",{children:["Speed (m/s)",(0,l.jsx)("input",{id:"speed",type:"number",step:"0.5",defaultValue:"6"})]}),(0,l.jsxs)("label",{children:["Gimbal pitch (\xb0)",(0,l.jsx)("input",{id:"gimbal",type:"number",step:"1",defaultValue:"-45"})]}),(0,l.jsxs)("label",{children:["File suffix",(0,l.jsx)("input",{id:"fileSuffix",type:"text",defaultValue:"LiangchaoDeng_SHZU"})]})]})]}),(0,l.jsxs)("fieldset",{style:{border:"1px solid #e5e5e5",borderRadius:8,padding:12,marginTop:12},children:[(0,l.jsx)("legend",{children:(0,l.jsx)("b",{children:"Drone & Payload (Optional)"})}),(0,l.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:10},children:[(0,l.jsxs)("label",{children:["droneEnum",(0,l.jsx)("input",{id:"droneEnum",type:"number",step:"1",defaultValue:"99"})]}),(0,l.jsxs)("label",{children:["droneSubEnum",(0,l.jsx)("input",{id:"droneSubEnum",type:"number",step:"1",defaultValue:"1"})]}),(0,l.jsxs)("label",{children:["payloadEnum",(0,l.jsx)("input",{id:"payloadEnum",type:"number",step:"1",defaultValue:"89"})]}),(0,l.jsxs)("label",{children:["payloadSubEnum",(0,l.jsx)("input",{id:"payloadSubEnum",type:"number",step:"1",defaultValue:"0"})]}),(0,l.jsxs)("label",{children:["payloadPositionIndex",(0,l.jsx)("input",{id:"payloadPosIndex",type:"number",step:"1",defaultValue:"0"})]})]}),(0,l.jsx)("div",{style:{marginTop:6},children:(0,l.jsxs)("label",{children:["Max points / part",(0,l.jsx)("input",{id:"maxPoints",type:"number",step:"1",defaultValue:"300"})]})})]}),(0,l.jsxs)("fieldset",{style:{border:"1px solid var(--ifm-border-color)",borderRadius:8,padding:12,marginTop:12},children:[(0,l.jsx)("legend",{children:(0,l.jsx)("b",{children:"Import from DJI KMZ"})}),(0,l.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:10,alignItems:"end"},children:[(0,l.jsxs)("label",{children:["Upload DJI route (.kmz)",(0,l.jsx)("input",{id:"kmzDroneFile",type:"file",accept:".kmz",style:{display:"block",marginTop:6}})]}),(0,l.jsx)("button",{id:"parseDroneBtn",className:"button button--secondary",children:"Parse Drone & Payload"})]}),(0,l.jsx)("div",{style:{marginTop:8,fontSize:12,color:"var(--ifm-color-emphasis-600)"},children:"Parses droneEnum, droneSubEnum, payloadEnum, payloadSubEnum, payloadPositionIndex from KMZ."})]}),(0,l.jsxs)("div",{style:{marginTop:12,display:"flex",alignItems:"center",gap:10,flexWrap:"wrap"},children:[(0,l.jsx)("button",{id:"previewBtn",className:"button button--secondary",children:"Preview"}),(0,l.jsx)("button",{id:"generateBtn",className:"button button--secondary",children:"Generate"}),(0,l.jsx)("div",{id:"status",style:{marginLeft:8,color:"var(--ifm-color-emphasis-600)",fontSize:13},children:"Idle"})]}),(0,l.jsxs)("div",{id:"downloads",style:{display:"none",marginTop:8},children:[(0,l.jsx)("div",{children:(0,l.jsx)("a",{id:"downloadTemplate",href:"#",download:"template.kml",children:"Download template.kml"})}),(0,l.jsx)("div",{children:(0,l.jsx)("a",{id:"downloadWPML",href:"#",download:"waylines.wpml",children:"Download waylines.wpml"})}),(0,l.jsx)("div",{children:(0,l.jsx)("a",{id:"downloadKMZ",href:"#",download:"cco_full.kmz",children:"Download cco_full.kmz"})}),(0,l.jsx)("div",{id:"partsContainer",style:{marginTop:6,fontSize:13}})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{style:{fontWeight:600,marginBottom:6},children:"Live Preview"}),(0,l.jsx)("div",{style:{width:"100%",maxWidth:680},children:(0,l.jsx)("canvas",{id:"previewCanvas",width:680,height:460,style:{width:"100%",height:"auto",minHeight:280,border:"1px solid var(--ifm-border-color)",borderRadius:8,background:"var(--ifm-background-color)"}})}),(0,l.jsxs)("div",{style:{color:"var(--ifm-color-emphasis-600)",marginTop:6,fontSize:13},children:["Upload KML \u2192 set parameters \u2192 click ",(0,l.jsx)("b",{children:"Preview"})," to refresh \u2192 click ",(0,l.jsx)("b",{children:"Generate"})," to get download links."]})]})]}),(0,l.jsx)(s.A,{})]})]}))},62835:(e,r,t)=>{t.d(r,{A:()=>p});var i=t(96540),o=t(74848);const n={maxWidth:"800px",margin:"60px auto 0",textAlign:"left",padding:"0 20px"},s={fontSize:"2rem",fontWeight:"600",marginBottom:"16px",color:"var(--ifm-color-emphasis-900)"},a={fontSize:"1.1rem",color:"var(--ifm-color-emphasis-700)",lineHeight:1.6,marginBottom:"16px"},l={borderLeft:"4px solid var(--ifm-border-color)",paddingLeft:"16px",color:"var(--ifm-color-emphasis-700)",fontStyle:"italic",lineHeight:1.6,marginBottom:"16px"},d={backgroundColor:"var(--ifm-background-surface-color)",padding:"16px",borderRadius:"12px",overflowX:"auto",border:"1px solid var(--ifm-border-color)",color:"var(--ifm-color-emphasis-800)"},c={fontSize:"1.5rem",fontWeight:"600",marginBottom:"16px",color:"var(--ifm-color-emphasis-900)"};function p({containerStyle:e}){const[r,t]=(0,i.useState)(!1),[p,u]=(0,i.useState)(!1),m="LiangchaoDeng. (2025). smiler488/smiler488.github.io: Digital Plant Phenotyping Platform v25.0 (v25.0.0). Zenodo. https://doi.org/10.5281/zenodo.17544584",h="@software{Deng2025_DPPP_v25,\n  author       = {Deng, Liangchao},\n  title        = {Digital Plant Phenotyping Platform (v25.0)},\n  year         = {2025},\n  publisher    = {Zenodo},\n  doi          = {10.5281/zenodo.17544584},\n  url          = {https://doi.org/10.5281/zenodo.17544584},\n  note         = {[Computer software]}\n}";return(0,o.jsxs)("div",{style:{...n,...e},children:[(0,o.jsx)("h2",{style:s,children:"Citation"}),(0,o.jsxs)("p",{style:a,children:["If you use ",(0,o.jsx)("strong",{children:"Digital Plant Phenotyping Platform v25.0"})," or any of its applications in your research, please cite it as:"]}),(0,o.jsxs)("blockquote",{style:l,children:["LiangchaoDeng. (2025)."," ",(0,o.jsx)("em",{children:"smiler488/smiler488.github.io: Digital Plant Phenotyping Platform v25.0 (v25.0.0)"}),". Zenodo.",(0,o.jsx)("br",{}),(0,o.jsx)("a",{href:"https://doi.org/10.5281/zenodo.17544584",children:"https://doi.org/10.5281/zenodo.17544584"})]}),(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"16px",gap:"12px"},children:[(0,o.jsx)("button",{type:"button",onClick:async()=>{try{if("undefined"!=typeof navigator&&navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(m);else if("undefined"!=typeof document){const e=document.createElement("textarea");e.value=m,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}t(!0),setTimeout((()=>t(!1)),2e3)}catch{t(!1)}},style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid var(--ifm-color-emphasis-900)",backgroundColor:"var(--ifm-color-emphasis-900)",color:"var(--ifm-color-emphasis-0)",cursor:"pointer",fontSize:"0.95rem",fontWeight:500,transition:"transform 0.15s ease, background-color 0.15s ease"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="var(--ifm-color-primary)",e.currentTarget.style.borderColor="var(--ifm-color-primary)",e.currentTarget.style.transform="translateY(-1px)"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="var(--ifm-color-emphasis-900)",e.currentTarget.style.borderColor="var(--ifm-color-emphasis-900)",e.currentTarget.style.transform="translateY(0)"},children:r?"Copied!":"Copy citation"}),(0,o.jsx)("span",{style:{fontSize:"0.9rem",color:r?"var(--ifm-color-success)":"var(--ifm-color-emphasis-600)"},children:r?"Citation copied to clipboard.":"Click to copy APA citation."})]}),(0,o.jsx)("a",{href:"https://doi.org/10.5281/zenodo.17544584",style:{display:"inline-block",marginBottom:"24px"},children:(0,o.jsx)("img",{src:"https://zenodo.org/badge/DOI/10.5281/zenodo.17544584.svg",alt:"DOI badge",style:{height:"32px"}})}),(0,o.jsx)("hr",{style:{border:"none",borderTop:"1px solid var(--ifm-border-color)",marginBottom:"24px"}}),(0,o.jsx)("h3",{style:c,children:"BibTeX citation (Zotero \u2192 File \u2192 Import from Clipboard)"}),(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"16px",gap:"12px"},children:[(0,o.jsx)("button",{type:"button",onClick:async()=>{try{if("undefined"!=typeof navigator&&navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(h);else if("undefined"!=typeof document){const e=document.createElement("textarea");e.value=h,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}u(!0),setTimeout((()=>u(!1)),2e3)}catch{u(!1)}},style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid var(--ifm-color-emphasis-900)",backgroundColor:"var(--ifm-color-emphasis-900)",color:"var(--ifm-color-emphasis-0)",cursor:"pointer",fontSize:"0.95rem",fontWeight:500,transition:"transform 0.15s ease, background-color 0.15s ease"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="var(--ifm-color-primary)",e.currentTarget.style.borderColor="var(--ifm-color-primary)",e.currentTarget.style.transform="translateY(-1px)"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="var(--ifm-color-emphasis-900)",e.currentTarget.style.borderColor="var(--ifm-color-emphasis-900)",e.currentTarget.style.transform="translateY(0)"},children:p?"Copied!":"Copy BibTeX"}),(0,o.jsx)("span",{style:{fontSize:"0.9rem",color:p?"var(--ifm-color-success)":"var(--ifm-color-emphasis-600)"},children:p?"BibTeX copied to clipboard. Switch to Zotero and choose Import from Clipboard.":"Click to copy BibTeX to clipboard for Zotero import."})]}),(0,o.jsx)("pre",{style:d,children:(0,o.jsx)("code",{children:h})})]})}},95082:(e,r,t)=>{t.d(r,{b:()=>n});var i=t(51270);let o=null;function n(){if(o)return o;if("undefined"==typeof window)return null;const e=window.__SUPABASE_URL__,r=window.__SUPABASE_ANON_KEY__;return e&&r?(o=(0,i.UU)(e,r,{auth:{persistSession:!0,autoRefreshToken:!0}}),o):null}}}]);