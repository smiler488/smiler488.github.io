"use strict";(self.webpackChunkliangchao_website=self.webpackChunkliangchao_website||[]).push([[9557],{6957:(e,i,s)=>{s.r(i),s.d(i,{default:()=>l});var t=s(6540),r=s(1656),n=s(5260),d=s(4848);function l(){return(0,t.useEffect)((()=>{const e=e=>document.getElementById(e),i=()=>e("status"),s=e=>{i()&&(i().textContent=e)},t=()=>{const i=e("cbRows"),s=e("cbCols"),t=e("cbComputed");if(!i||!s||!t)return;const r=parseInt(i.value||"0",10)+1,n=parseInt(s.value||"0",10)+1;t.textContent=`Printed squares = ${r} \xd7 ${n} = ${r*n}`},r=()=>{const i=e("targetType").value,s={type:i,paper:e("paper").value,margin:parseFloat(e("margin").value||0)};if("chessboard"===i){const i=parseInt(e("cbRows").value,10),t=parseInt(e("cbCols").value,10),r=parseFloat(e("cbSize").value);s.cbInnerRows=i,s.cbInnerCols=t,s.cbSize=r;const n=i+1,d=t+1;s.cbSquaresRows=n,s.cbSquaresCols=d,s.cbRows=n,s.cbCols=d,s.rows=n,s.cols=d,s.innerRows=i,s.innerCols=t}else"bullseye"===i?(s.beOuter=parseFloat(e("beOuter").value),s.beRings=parseInt(e("beRings").value,10),s.beHole=parseFloat(e("beHole").value),s.beStroke=parseFloat(e("beStroke").value)):"ringArcs"===i&&(s.raOuter=parseFloat(e("raOuter").value),s.raWidth=parseFloat(e("raWidth").value),s.raA1=parseFloat(e("raA1").value),s.raA2=parseFloat(e("raA2").value),s.raHub=parseFloat(e("raHub").value),s.raDot=parseFloat(e("raDot").value));return s},n=()=>{const i=e("targetType").value,s=e("chessParams"),r=e("bullseyeParams"),n=e("RingArcsParams");s&&(s.style.display="chessboard"===i?"block":"none"),r&&(r.style.display="bullseye"===i?"block":"none"),n&&(n.style.display="ringArcs"===i?"block":"none"),"chessboard"===i&&t()},d=i=>{if("undefined"==typeof window)return!1;if(!!!(window.TARGETS_INIT||window.targetsPreview||window.targetsDownload))return!1;try{window.TARGETS_INIT&&!window.__targetsReady&&(window.TARGETS_INIT(),window.__targetsReady=!0);const i=e("btnPreview"),t=e("btnDownload"),d=e("previewSvg"),l=()=>{const e=r();return console.log("[targets] preview params",e),"function"==typeof window.targetsPreview?(window.targetsPreview(e,d),void s("Preview updated.")):"function"==typeof window.TARGETS_PREVIEW?(window.TARGETS_PREVIEW(e),void s("Preview requested.")):(window.__TARGETS_LAST_PARAMS=e,window.dispatchEvent(new CustomEvent("targets_preview_request",{detail:e})),void s("Preview event dispatched."))},a=()=>{const e=r();return"function"==typeof window.targetsDownload?(window.targetsDownload(e),void s("Generating PDF...")):"function"==typeof window.TARGETS_DOWNLOAD?(window.TARGETS_DOWNLOAD(e),void s("Generating PDF...")):(window.__TARGETS_LAST_PARAMS=e,window.dispatchEvent(new CustomEvent("targets_download_request",{detail:e})),void s("Download event dispatched."))};return i&&!i.__bound&&(i.addEventListener("click",l),i.__bound=!0),t&&!t.__bound&&(t.addEventListener("click",a),t.__bound=!0),n(),l(),s("Ready."),!0}catch(t){return console.error("Targets init failed from",i,t),s("Init failed. See console."),!1}};if(d("immediate"))return;const l=()=>d("targets_ready"),a=()=>d("window.load");window.addEventListener("targets_ready",l),window.addEventListener("load",a);const o=setInterval((()=>{d("poll")&&clearInterval(o)}),150),c=e("targetType");c&&c.addEventListener("change",(()=>{n();const i=e("btnPreview");i&&i.click()}));const u=e("cbRows"),p=e("cbCols");t();const h=()=>{const i=e("btnPreview");i&&i.click()};return u&&(u.addEventListener("input",(()=>{t(),h()})),u.addEventListener("change",(()=>{t(),h()}))),p&&(p.addEventListener("input",(()=>{t(),h()})),p.addEventListener("change",(()=>{t(),h()}))),()=>{window.removeEventListener("targets_ready",l),window.removeEventListener("load",a),clearInterval(o),u&&(u.removeEventListener("input",(()=>{t(),h()})),u.removeEventListener("change",(()=>{t(),h()}))),p&&(p.removeEventListener("input",(()=>{t(),h()})),p.removeEventListener("change",(()=>{t(),h()})))}}),[]),(0,d.jsxs)(r.A,{title:"Calibration Targets",children:[(0,d.jsxs)(n.A,{children:[(0,d.jsx)("script",{src:"https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"}),(0,d.jsx)("script",{id:"targets-script",src:"/js/targets_app.js",defer:!0})]}),(0,d.jsxs)("div",{style:{maxWidth:1100,margin:"0 auto",padding:"24px"},children:[(0,d.jsx)("h1",{children:"Calibration Targets (A4 PDF)"}),(0,d.jsxs)("p",{style:{marginTop:4},children:["Generate printable chessboards and ring/bullseye GCPs. Print at"," ",(0,d.jsx)("b",{children:"100% / Actual size"})," to preserve scale. For chessboards, inputs are"," ",(0,d.jsx)("b",{children:"inner corners"}),"."]}),(0,d.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"360px 1fr",gap:"24px",alignItems:"start"},children:[(0,d.jsxs)("div",{id:"controls",style:{border:"1px solid #e5e7eb",borderRadius:12,padding:16},children:[(0,d.jsx)("h3",{style:{marginTop:0},children:"Parameters"}),(0,d.jsx)("label",{children:"Target Type"}),(0,d.jsxs)("select",{id:"targetType",style:{width:"100%",marginBottom:12},children:[(0,d.jsx)("option",{value:"chessboard",children:"Chessboard (Checkerboard)"}),(0,d.jsx)("option",{value:"bullseye",children:"Bullseye (Concentric)"}),(0,d.jsx)("option",{value:"ringArcs",children:"Ring with cut arcs"})]}),(0,d.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{children:"Paper"}),(0,d.jsxs)("select",{id:"paper",style:{width:"100%"},children:[(0,d.jsx)("option",{value:"a4",children:"A4 (210\xd7297 mm)"}),(0,d.jsx)("option",{value:"letter",children:"Letter (8.5\xd711 in)"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{children:"Margin (mm)"}),(0,d.jsx)("input",{id:"margin",type:"number",defaultValue:"10",min:"0",step:"1",style:{width:"100%"}})]})]}),(0,d.jsx)("hr",{}),(0,d.jsxs)("div",{id:"chessParams",children:[(0,d.jsx)("h4",{children:"Chessboard"}),(0,d.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{children:"Rows (inner corners)"}),(0,d.jsx)("input",{id:"cbRows",type:"number",min:"3",defaultValue:"9",style:{width:"100%"}})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{children:"Cols (inner corners)"}),(0,d.jsx)("input",{id:"cbCols",type:"number",min:"3",defaultValue:"6",style:{width:"100%"}})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{children:"Square Size (mm)"}),(0,d.jsx)("input",{id:"cbSize",type:"number",min:"2",defaultValue:"25",style:{width:"100%"}})]})]}),(0,d.jsxs)("div",{style:{marginTop:8,fontSize:12,color:"#6b7280"},children:[(0,d.jsx)("strong",{children:"Note:"})," OpenCV uses ",(0,d.jsx)("em",{children:"inner corners"}),". Printed squares ="," ",(0,d.jsx)("code",{children:"(rows + 1) \xd7 (cols + 1)"}),"."]}),(0,d.jsx)("div",{id:"cbComputed",style:{marginTop:4,fontSize:12,color:"#374151"}})]}),(0,d.jsxs)("div",{id:"bullseyeParams",style:{display:"none"},children:[(0,d.jsx)("h4",{children:"Bullseye"}),(0,d.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{children:"Outer Diameter (mm)"}),(0,d.jsx)("input",{id:"beOuter",type:"number",min:"10",defaultValue:"160",style:{width:"100%"}})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{children:"Ring Count"}),(0,d.jsx)("input",{id:"beRings",type:"number",min:"1",defaultValue:"4",style:{width:"100%"}})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{children:"Center Hole (mm)"}),(0,d.jsx)("input",{id:"beHole",type:"number",min:"0",defaultValue:"4",style:{width:"100%"}})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{children:"Stroke (mm)"}),(0,d.jsx)("input",{id:"beStroke",type:"number",min:"0",defaultValue:"0",style:{width:"100%"}})]})]})]}),(0,d.jsxs)("div",{id:"RingArcsParams",style:{display:"none"},children:[(0,d.jsx)("h4",{children:"Ring with cut arcs"}),(0,d.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{children:"Outer Diameter (mm)"}),(0,d.jsx)("input",{id:"raOuter",type:"number",min:"50",defaultValue:"180",style:{width:"100%"}})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{children:"Ring Width (mm)"}),(0,d.jsx)("input",{id:"raWidth",type:"number",min:"5",defaultValue:"30",style:{width:"100%"}})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{children:"Arc 1 angle (\xb0)"}),(0,d.jsx)("input",{id:"raA1",type:"number",min:"0",max:"360",defaultValue:"300",style:{width:"100%"}})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{children:"Arc 2 angle (\xb0)"}),(0,d.jsx)("input",{id:"raA2",type:"number",min:"0",max:"360",defaultValue:"120",style:{width:"100%"}})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{children:"Hub (center disk, mm)"}),(0,d.jsx)("input",{id:"raHub",type:"number",min:"0",defaultValue:"40",style:{width:"100%"}})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{children:"Key dot (mm)"}),(0,d.jsx)("input",{id:"raDot",type:"number",min:"0",defaultValue:"2.5",style:{width:"100%"}})]})]})]}),(0,d.jsx)("hr",{}),(0,d.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[(0,d.jsx)("button",{type:"button",id:"btnPreview",children:"Preview"}),(0,d.jsx)("button",{type:"button",id:"btnDownload",className:"button button--primary",children:"Download PDF"})]}),(0,d.jsx)("p",{id:"status",style:{color:"#6b7280",marginTop:8}})]}),(0,d.jsxs)("div",{style:{border:"1px solid #e5e7eb",borderRadius:12,padding:16},children:[(0,d.jsx)("h3",{style:{marginTop:0},children:"Live Preview (A4)"}),(0,d.jsx)("div",{style:{width:"100%",background:"#fafafa",border:"1px dashed #d1d5db",borderRadius:8,overflow:"auto",padding:8},children:(0,d.jsx)("svg",{id:"previewSvg",viewBox:"0 0 210 297",width:"100%"})}),(0,d.jsx)("div",{style:{marginTop:8,color:"#6b7280",fontSize:14},children:"Scale is proportional for preview. Physical size is honored in exported PDF."})]})]}),(0,d.jsxs)("div",{style:{marginTop:24,fontSize:14,color:"#6b7280"},children:["Tip: The PDF uses ",(0,d.jsx)("b",{children:"millimeters"}),". In your print dialog, select \u201cActual size / 100%\u201d and disable \u201cFit to page\u201d."]})]})]})}}}]);