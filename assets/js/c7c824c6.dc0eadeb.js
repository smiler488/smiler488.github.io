"use strict";(self.webpackChunkliangchao_website=self.webpackChunkliangchao_website||[]).push([[5117],{17921:(e,t,i)=>{function a(){const e="undefined"!=typeof window?window.localStorage.getItem("app_users"):null;if(!e)return[];try{return JSON.parse(e)||[]}catch{return[]}}function n(e){return Array.prototype.map.call(new Uint8Array(e),(e=>("00"+e.toString(16)).slice(-2))).join("")}async function s(e,t){const i=(new TextEncoder).encode(e),a=function(e){const t=new Uint8Array(e.length/2);for(let i=0;i<t.length;i++)t[i]=parseInt(e.substr(2*i,2),16);return t.buffer}(t),s=await crypto.subtle.importKey("raw",i,"PBKDF2",!1,["deriveBits"]);return n(await crypto.subtle.deriveBits({name:"PBKDF2",salt:a,iterations:15e4,hash:"SHA-256"},s,256))}async function l(e,t){const i=a();if(i.find((t=>t.email.toLowerCase()===String(e).toLowerCase())))throw new Error("Email already registered");const l=n(crypto.getRandomValues(new Uint8Array(16)).buffer),r=await s(t,l);return i.push({email:e,saltHex:l,hashHex:r,createdAt:(new Date).toISOString()}),function(e){"undefined"!=typeof window&&window.localStorage.setItem("app_users",JSON.stringify(e))}(i),d({email:e}),{email:e}}async function r(e,t){const i=a().find((t=>t.email.toLowerCase()===String(e).toLowerCase()));if(!i)throw new Error("Account not found");if(await s(t,i.saltHex)!==i.hashHex)throw new Error("Invalid credentials");return d({email:e}),{email:e}}function o(){if("undefined"==typeof window)return null;const e=window.localStorage.getItem("app_session");if(!e)return null;try{return JSON.parse(e)||null}catch{return null}}function d(e){"undefined"!=typeof window&&window.localStorage.setItem("app_session",JSON.stringify({email:e.email,at:Date.now()}))}function c(){"undefined"!=typeof window&&window.localStorage.removeItem("app_session")}i.d(t,{Ht:()=>o,iD:()=>r,kz:()=>l,ri:()=>c})},34619:(e,t,i)=>{i.d(t,{A:()=>r});var a=i(96540),n=i(17921),s=i(95082),l=i(74848);function r({children:e}){const[t,i]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{const e=(0,s.b)();if(e){e.auth.getUser().then((({data:e})=>{const t=!!e?.user;i(t),"undefined"!=typeof window&&(window.__APP_AUTH_OK__=t)}));const{data:t}=e.auth.onAuthStateChange(((e,t)=>{const a=!!t?.user;i(a),"undefined"!=typeof window&&(window.__APP_AUTH_OK__=a)}));return()=>t?.subscription?.unsubscribe?.()}const t=!!(0,n.Ht)();i(t),"undefined"!=typeof window&&(window.__APP_AUTH_OK__=t)}),[]),(0,l.jsxs)("div",{children:[!t&&(0,l.jsx)("div",{className:"app-card",style:{marginBottom:12},children:(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,l.jsx)("span",{className:"app-muted",children:"Please login to use app features"}),(0,l.jsx)("a",{className:"button button--secondary",href:"/auth",children:"Login / Register"})]})}),e]})}},35313:(e,t,i)=>{i.r(t),i.d(t,{default:()=>C});var a=i(96540),n=i(63018),s=i(62835),l=i(34619),r=i(74848);const o=e=>e*Math.PI/180,d=(e,t,i)=>Math.max(t,Math.min(i,e)),c={PE:140,PVC:150},m=9.81,h=5;function p(e,t,i,a=150){return e<=0||t<=0||i<=0?0:10.67*e*Math.pow(t,1.852)/(Math.pow(a,1.852)*Math.pow(i,4.87))}function u(e,t){if(e<=0||t<=0)return 0;return e/(Math.PI*t*t/4)}const g={field:{length_m:320,width_m:140},headworks:{pumpPressure_kPa:180,maxFlow_m3h:130,filterLoss_kPa:12,fertigation:!0},mainline:{diameter_mm:90,length_m:320,location:"edge",ring:!1,material:"PE"},submains:{spacing_m:60,diameter_mm:50,twoSideFeed:!1,valveEvery:1},laterals:{tapeSpacing_m:2.2,emitterSpacing_cm:30,emitterFlow_Lph:2.4,operPressure_kPa:100,length_m:320,pressureComp:!0},terrain:{orientation_deg:0,slope_len_pct:.3,slope_wid_pct:0},constraints:{maxPressureVar_pct:10,maxVel_ms:1.5}},x=["Keep mainline velocity \u22641.5 m/s to minimize water hammer and energy losses.","Limit submain headloss to <20% of operating pressure and lateral headloss to <10%.","Use pressure-compensating emitters or zoning when slope exceeds 0.5%.","Ring-fed mains or two-side-fed submains help maintain uniform pressure."];function f({label:e,value:t,onChange:i,step:a=1,suffix:n}){return(0,r.jsxs)("label",{style:{display:"block",marginBottom:12},children:[(0,r.jsx)("span",{style:{display:"block",fontSize:"0.85rem",marginBottom:4},children:e}),(0,r.jsx)("input",{type:"number",value:t,step:a,onChange:e=>i(Number(e.target.value)),style:{width:"100%",padding:"8px 10px",border:"1px solid var(--ifm-color-emphasis-300)",borderRadius:8}}),n&&(0,r.jsx)("span",{style:{display:"block",fontSize:"0.75rem",color:"var(--ifm-color-emphasis-700)",marginTop:4},children:n})]})}function b({label:e,value:t,onChange:i}){return(0,r.jsxs)("label",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"0.9rem",padding:"4px 0"},children:[(0,r.jsx)("span",{children:e}),(0,r.jsx)("input",{type:"checkbox",checked:t,onChange:e=>i(e.target.checked)})]})}function y({title:e,description:t,children:i}){return(0,r.jsxs)("section",{className:"card padding--md margin-bottom--lg",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{fontSize:"0.95rem",fontWeight:600},children:e}),t&&(0,r.jsx)("p",{style:{fontSize:"0.8rem",color:"var(--ifm-color-emphasis-700)",marginTop:4,lineHeight:1.5},children:t})]}),i]})}function v(e,t){const{field:i,headworks:a,mainline:n,submains:s,laterals:l,terrain:r,constraints:o}=e,{tapesPerSubmain:g,emittersPerTape:x,nSubmains:f}=t,b=f*g,y=x*l.emitterFlow_Lph/1e3,v=b*y,w=v/3600,j=n.diameter_mm/1e3,_=n.ring?n.length_m/2:n.length_m,k=n.ring?w/2:w,P=p(_,k,j,c[n.material]||140),C=u(k,j),S=g*y/3600,N=s.diameter_mm/1e3,M=s.twoSideFeed?i.length_m/2:i.length_m,T=s.twoSideFeed?S/2:S,z=p(M,T,N,140),F=u(T,N),L=r.slope_len_pct/100*l.length_m,A=r.slope_wid_pct/100*i.width_m,B=L*m,E=A*m,R=Math.max(0,a.pumpPressure_kPa-a.filterLoss_kPa),$=R-(a.fertigation?h:0)-P*m,D=$-z*m-Math.max(0,B),I=D-l.operPressure_kPa,H=function(e){const t=100-1.6*d(e,0,25);return d(t,60,98)}(o.maxPressureVar_pct),U=[];return C>o.maxVel_ms&&U.push(`Mainline velocity ${C.toFixed(2)} m/s exceeds ${o.maxVel_ms} m/s limit.`),v>a.maxFlow_m3h&&U.push(`Total system flow ${v.toFixed(1)} m\xb3/h > pump rating ${a.maxFlow_m3h} m\xb3/h.`),$<=0&&U.push("Net pump pressure after filter/fertigation losses is insufficient for mainline delivery."),I<0&&U.push(`Lateral pressure deficit ${Math.abs(I).toFixed(1)} kPa vs setpoint; increase pump pressure or pipe size.`),Math.abs(L)>1&&U.push(`Lengthwise slope induces ${B.toFixed(1)} kPa head variation.`),Math.abs(A)>1&&U.push(`Cross-field slope induces ${E.toFixed(1)} kPa head variation.`),{tapesTotal:b,totalFlow_m3h:v,mainV:C,mainHf:P,subV:F,subHf:z,CU:H,warnings:U,netPump_kPa:R,atLaterals_kPa:D,pressureMargin_kPa:I}}function w({config:e,layout:t},i){const{field:a,mainline:n,submains:s,laterals:l}=e,{width:o,height:d,project:c,nSubmains:m,submainSpacing:h,tapesPerSubmain:p,scale:u,padding:g}=t,x=(0,r.jsx)("rect",{x:g,y:g,width:a.length_m*u,height:a.width_m*u,rx:18,fill:"#f8fafc",stroke:"#e2e8f0",strokeWidth:2}),f=(()=>{if("edge"===n.location){const[e,t]=c(0,0),[i,s]=c(0,a.width_m);return(0,r.jsx)("line",{x1:e,y1:t,x2:i,y2:s,stroke:"#0ea5e9",strokeWidth:Math.max(3,n.diameter_mm/40)})}const[e,t]=c(0,a.width_m/2),[i,s]=c(a.length_m,a.width_m/2);return(0,r.jsx)("line",{x1:e,y1:t,x2:i,y2:s,stroke:"#0ea5e9",strokeWidth:Math.max(3,n.diameter_mm/40)})})(),b=Array.from({length:m+1}).map(((e,t)=>{const i=t*h,[n,l]=c(0,i),[o,d]=c(a.length_m,i);return(0,r.jsx)("line",{x1:n,y1:l,x2:o,y2:d,stroke:"#22c55e",strokeWidth:Math.max(2,s.diameter_mm/60),opacity:.9},`sub-${t}`)})),y=[];for(let j=0;j<m;j+=1){const e=j*h;for(let t=0;t<p;t+=1){const i=e+(t+.5)*(h/p),[n,s]=c(0,i),[l,o]=c(a.length_m,i);y.push((0,r.jsx)("line",{x1:n,y1:s,x2:l,y2:o,stroke:"#94a3b8",strokeDasharray:"6 6",strokeWidth:1.3},`lat-${j}-${t}`))}}const[v,w]=c(0,"edge"===n.location?0:a.width_m/2);return(0,r.jsxs)("svg",{ref:i,viewBox:`0 0 ${o} ${d}`,className:"w-full h-full bg-white rounded-2xl border",children:[x,(0,r.jsxs)("g",{opacity:.15,children:[Array.from({length:10}).map(((e,t)=>(0,r.jsx)("line",{x1:g,y1:g+t/10*a.width_m*u,x2:g+a.length_m*u,y2:g+t/10*a.width_m*u,stroke:"#cbd5f5"},`gx-${t}`))),Array.from({length:10}).map(((e,t)=>(0,r.jsx)("line",{x1:g+t/10*a.length_m*u,y1:g,x2:g+t/10*a.length_m*u,y2:g+a.width_m*u,stroke:"#cbd5f5"},`gy-${t}`)))]}),f,b,y,(0,r.jsxs)("g",{transform:`translate(${v},${w})`,children:[(0,r.jsx)("rect",{x:-14,y:-14,width:28,height:28,rx:7,fill:"#0ea5e9"}),(0,r.jsx)("text",{x:16,y:5,fontSize:12,fill:"#0ea5e9",children:"Headworks"})]}),(0,r.jsxs)("text",{x:o-200,y:d-30,fontSize:12,fill:"#475569",children:["Scale 1:",Math.round(1/t.scale)]})]})}const j=a.forwardRef(w);function _({config:e,layout:t,svgRef:i}){return(0,r.jsxs)("section",{className:"card padding--md margin-bottom--lg",children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{fontSize:"0.95rem",fontWeight:600},children:"Layout Preview"}),(0,r.jsx)("p",{style:{fontSize:"0.8rem",color:"var(--ifm-color-emphasis-700)"},children:"Field drawn to scale with rotation; headworks shown at origin."})]}),(0,r.jsxs)("div",{style:{fontSize:"0.8rem",color:"var(--ifm-color-emphasis-700)"},children:[e.field.length_m," m \xd7 ",e.field.width_m," m"]})]}),(0,r.jsx)("div",{style:{border:"1px solid var(--ifm-color-emphasis-300)",borderRadius:8,background:"#f6f8fb",overflow:"hidden",marginTop:12},children:(0,r.jsx)(j,{config:e,layout:t,ref:i})}),(0,r.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"12px",fontSize:"0.8rem",color:"var(--ifm-color-emphasis-700)",marginTop:8},children:[{color:"#0ea5e9",label:"Mainline"},{color:"#22c55e",label:"Submains"},{color:"#94a3b8",label:"Drip laterals"}].map((e=>(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,r.jsx)("span",{style:{display:"inline-block",width:12,height:12,borderRadius:12,background:e.color}}),(0,r.jsx)("span",{children:e.label})]},e.label)))})]})}function k({data:e,config:t}){const{headworks:i,laterals:a}=t,n=[{label:"Total laterals",value:e.tapesTotal},{label:"System flow",value:`${e.totalFlow_m3h.toFixed(1)} m\xb3/h`,hint:`Pump limit ${i.maxFlow_m3h}`},{label:"Mainline velocity",value:`${e.mainV.toFixed(2)} m/s`},{label:"Mainline headloss",value:`${e.mainHf.toFixed(2)} m`},{label:"Submain velocity",value:`${e.subV.toFixed(2)} m/s`},{label:"Submain headloss",value:`${e.subHf.toFixed(2)} m`},{label:"Available pressure",value:`${Math.max(0,e.atLaterals_kPa).toFixed(0)} kPa`,hint:`Margin ${e.pressureMargin_kPa.toFixed(1)} kPa`},{label:"Net pump pressure",value:`${e.netPump_kPa.toFixed(0)} kPa`},{label:"Estimated CU",value:`${e.CU.toFixed(0)}%`,hint:a.pressureComp?"PC emitter":"non-PC emitter"}];return(0,r.jsxs)("section",{className:"card padding--md margin-bottom--lg",children:[(0,r.jsx)("div",{style:{fontSize:"0.95rem",fontWeight:600},children:"Hydraulic Summary"}),(0,r.jsx)("div",{className:"row",style:{marginTop:8},children:n.map((e=>(0,r.jsx)("div",{className:"col col--4",children:(0,r.jsxs)("div",{style:{border:"1px solid var(--ifm-color-emphasis-300)",borderRadius:8,padding:12},children:[(0,r.jsx)("div",{style:{fontSize:"0.8rem",color:"var(--ifm-color-emphasis-700)"},children:e.label}),(0,r.jsx)("div",{style:{fontSize:"1.1rem",fontWeight:600},children:e.value}),e.hint&&(0,r.jsx)("div",{style:{fontSize:"0.75rem",color:"var(--ifm-color-emphasis-700)"},children:e.hint})]})},e.label)))})]})}function P({warnings:e}){return e.length?(0,r.jsxs)("div",{className:"card padding--md",style:{borderLeft:"4px solid #f59e0b",background:"#fffbeb"},children:[(0,r.jsx)("div",{style:{fontWeight:600,marginBottom:6,color:"#92400e"},children:"Warnings"}),(0,r.jsx)("ul",{style:{paddingLeft:18},children:e.map((e=>(0,r.jsx)("li",{style:{color:"#92400e",marginBottom:4},children:e},e)))})]}):(0,r.jsx)("div",{className:"card padding--md",style:{borderLeft:"4px solid #10b981",background:"#ecfdf5"},children:(0,r.jsx)("div",{style:{color:"#065f46",fontSize:"0.9rem"},children:"All operating parameters within limits. Proceed with headworks or zoning refinements."})})}function C(){const[e,t]=(0,a.useState)(g),i=(0,a.useRef)(null),d=(0,a.useMemo)((()=>function(e,t,i,a){const n=Math.min(836/e.length_m,496/e.width_m),s=Math.max(1,Math.floor(e.width_m/Math.max(t.spacing_m,1))),l=e.width_m/s,r=Math.max(1,Math.floor(l/Math.max(i.tapeSpacing_m,.1))),d=Math.max(1,Math.floor(100*i.length_m/Math.max(i.emitterSpacing_cm,1))),c=o(a.orientation_deg||0),m=Math.cos(c),h=Math.sin(c),p=e.length_m/2,u=e.width_m/2;return{padding:32,width:900,height:560,scale:n,nSubmains:s,submainSpacing:l,tapesPerSubmain:r,emittersPerTape:d,project:function(e,t){return[32+(m*(e-p)-h*(t-u)+p)*n,32+(h*(e-p)+m*(t-u)+u)*n]}}}(e.field,e.submains,e.laterals,e.terrain)),[e]),c=(0,a.useMemo)((()=>v(e,d)),[e,d]),m=(e,i,a)=>t((t=>({...t,[e]:{...t[e],[i]:a}})));return(0,r.jsx)(n.A,{title:"Irrigation Layout Designer",children:(0,r.jsxs)("main",{className:"container margin-vert--lg app-container",children:[(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col col--8",children:(0,r.jsx)("h1",{className:"app-title",children:"Irrigation Layout Designer"})}),(0,r.jsx)("div",{className:"col col--4",children:(0,r.jsxs)("div",{style:{display:"flex",gap:12,justifyContent:"flex-end",alignItems:"center",marginTop:8},children:[(0,r.jsx)("a",{href:"/docs/tutorial-apps/irrigation-layout-designer-tutorial",className:"button button--secondary",children:"Tutorial"}),(0,r.jsx)("button",{type:"button",onClick:()=>t(g),className:"button button--secondary",disabled:"undefined"!=typeof window&&!window.__APP_AUTH_OK__,children:"Reset Defaults"})]})})]}),(0,r.jsx)(l.A,{}),(0,r.jsx)("p",{style:{margin:"12px 0 24px"},children:"Feed field dimensions, slopes, and headworks constraints to generate a scaled layout of mainlines, submains, and drip laterals while checking velocities, headloss, and pressure uniformity instantly."}),(0,r.jsxs)("div",{className:"row margin-top--lg",children:[(0,r.jsxs)("div",{className:"col col--5",children:[(0,r.jsx)(y,{title:"Field & Terrain",description:"Orientation measured clockwise from true north. Slopes convert to head differences.",children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col col--6",children:(0,r.jsx)(f,{label:"Length (m)",value:e.field.length_m,onChange:e=>m("field","length_m",e)})}),(0,r.jsx)("div",{className:"col col--6",children:(0,r.jsx)(f,{label:"Width (m)",value:e.field.width_m,onChange:e=>m("field","width_m",e)})}),(0,r.jsx)("div",{className:"col col--6",children:(0,r.jsx)(f,{label:"Orientation (\xb0)",value:e.terrain.orientation_deg,onChange:e=>m("terrain","orientation_deg",e),suffix:"clockwise from N"})}),(0,r.jsx)("div",{className:"col col--6",children:(0,r.jsx)(f,{label:"Slope along length (%)",step:.1,value:e.terrain.slope_len_pct,onChange:e=>m("terrain","slope_len_pct",e)})}),(0,r.jsx)("div",{className:"col col--6",children:(0,r.jsx)(f,{label:"Slope along width (%)",step:.1,value:e.terrain.slope_wid_pct,onChange:e=>m("terrain","slope_wid_pct",e)})})]})}),(0,r.jsx)(y,{title:"Headworks & Constraints",description:"Pump pressure, filter/fertigation losses, and allowable variation determine available head.",children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col col--6",children:(0,r.jsx)(f,{label:"Pump pressure (kPa)",value:e.headworks.pumpPressure_kPa,onChange:e=>m("headworks","pumpPressure_kPa",e)})}),(0,r.jsx)("div",{className:"col col--6",children:(0,r.jsx)(f,{label:"Max flow (m\xb3/h)",value:e.headworks.maxFlow_m3h,onChange:e=>m("headworks","maxFlow_m3h",e)})}),(0,r.jsx)("div",{className:"col col--6",children:(0,r.jsx)(f,{label:"Filter loss (kPa)",value:e.headworks.filterLoss_kPa,onChange:e=>m("headworks","filterLoss_kPa",e)})}),(0,r.jsx)("div",{className:"col col--6",children:(0,r.jsx)(b,{label:"Fertigation skid",value:e.headworks.fertigation,onChange:e=>m("headworks","fertigation",e)})}),(0,r.jsx)("div",{className:"col col--6",children:(0,r.jsx)(f,{label:"Allowable \u0394P (%)",value:e.constraints.maxPressureVar_pct,onChange:e=>m("constraints","maxPressureVar_pct",e)})}),(0,r.jsx)("div",{className:"col col--6",children:(0,r.jsx)(f,{label:"Max velocity (m/s)",value:e.constraints.maxVel_ms,onChange:e=>m("constraints","maxVel_ms",e)})})]})}),(0,r.jsx)(y,{title:"Mainline",description:"Material determines Hazen\u2013Williams C; ring feed halves effective length/flow.",children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col col--6",children:(0,r.jsx)(f,{label:"Diameter (mm)",value:e.mainline.diameter_mm,onChange:e=>m("mainline","diameter_mm",e)})}),(0,r.jsx)("div",{className:"col col--6",children:(0,r.jsx)(f,{label:"Length (m)",value:e.mainline.length_m,onChange:e=>m("mainline","length_m",e)})}),(0,r.jsx)("div",{className:"col col--6",children:(0,r.jsxs)("label",{style:{display:"block",marginBottom:12},children:[(0,r.jsx)("span",{style:{display:"block",fontSize:"0.85rem",marginBottom:4},children:"Material"}),(0,r.jsxs)("select",{style:{width:"100%",padding:"8px 10px",border:"1px solid var(--ifm-color-emphasis-300)",borderRadius:8},value:e.mainline.material,onChange:e=>m("mainline","material",e.target.value),children:[(0,r.jsx)("option",{value:"PE",children:"PE (C\u2248140)"}),(0,r.jsx)("option",{value:"PVC",children:"PVC (C\u2248150)"})]})]})}),(0,r.jsx)("div",{className:"col col--6",children:(0,r.jsxs)("label",{style:{display:"block",marginBottom:12},children:[(0,r.jsx)("span",{style:{display:"block",fontSize:"0.85rem",marginBottom:4},children:"Location"}),(0,r.jsxs)("select",{style:{width:"100%",padding:"8px 10px",border:"1px solid var(--ifm-color-emphasis-300)",borderRadius:8},value:e.mainline.location,onChange:e=>m("mainline","location",e.target.value),children:[(0,r.jsx)("option",{value:"edge",children:"Field edge"}),(0,r.jsx)("option",{value:"center",children:"Centerline"})]})]})}),(0,r.jsx)("div",{className:"col col--12",children:(0,r.jsx)(b,{label:"Ring / two-end feed",value:e.mainline.ring,onChange:e=>m("mainline","ring",e)})})]})}),(0,r.jsx)(y,{title:"Submains",description:"Spacing sets the number of runs; two-side supply lowers end losses.",children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col col--6",children:(0,r.jsx)(f,{label:"Spacing (m)",value:e.submains.spacing_m,onChange:e=>m("submains","spacing_m",e)})}),(0,r.jsx)("div",{className:"col col--6",children:(0,r.jsx)(f,{label:"Diameter (mm)",value:e.submains.diameter_mm,onChange:e=>m("submains","diameter_mm",e)})}),(0,r.jsx)("div",{className:"col col--6",children:(0,r.jsx)(b,{label:"Two-side feed",value:e.submains.twoSideFeed,onChange:e=>m("submains","twoSideFeed",e)})}),(0,r.jsx)("div",{className:"col col--6",children:(0,r.jsx)(f,{label:"Valve every (runs)",value:e.submains.valveEvery,onChange:e=>m("submains","valveEvery",e)})})]})}),(0,r.jsx)(y,{title:"Drip laterals",description:"Emitter spacing/flow and tape pressure determine total demand and headloss.",children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col col--6",children:(0,r.jsx)(f,{label:"Tape spacing (m)",value:e.laterals.tapeSpacing_m,onChange:e=>m("laterals","tapeSpacing_m",e)})}),(0,r.jsx)("div",{className:"col col--6",children:(0,r.jsx)(f,{label:"Emitter spacing (cm)",value:e.laterals.emitterSpacing_cm,onChange:e=>m("laterals","emitterSpacing_cm",e)})}),(0,r.jsx)("div",{className:"col col--6",children:(0,r.jsx)(f,{label:"Emitter flow (L/h)",value:e.laterals.emitterFlow_Lph,onChange:e=>m("laterals","emitterFlow_Lph",e)})}),(0,r.jsx)("div",{className:"col col--6",children:(0,r.jsx)(f,{label:"Operating pressure (kPa)",value:e.laterals.operPressure_kPa,onChange:e=>m("laterals","operPressure_kPa",e)})}),(0,r.jsx)("div",{className:"col col--6",children:(0,r.jsx)(f,{label:"Tape length (m)",value:e.laterals.length_m,onChange:e=>m("laterals","length_m",e)})}),(0,r.jsx)("div",{className:"col col--6",children:(0,r.jsx)(b,{label:"Pressure-compensating",value:e.laterals.pressureComp,onChange:e=>m("laterals","pressureComp",e)})})]})}),(0,r.jsxs)("div",{style:{display:"flex",gap:12,justifyContent:"flex-end"},children:[(0,r.jsx)("button",{type:"button",onClick:()=>{if(!i.current)return;const e=new Blob([i.current.outerHTML],{type:"image/svg+xml;charset=utf-8"}),t=URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download="irrigation-layout.svg",a.click(),URL.revokeObjectURL(t)},className:"button button--primary",children:"Export SVG"}),(0,r.jsx)("button",{type:"button",onClick:()=>t(g),className:"button button--secondary",children:"Reset"})]})]}),(0,r.jsxs)("div",{className:"col col--7",children:[(0,r.jsx)(_,{config:e,layout:d,svgRef:i}),(0,r.jsx)(k,{data:c,config:e}),(0,r.jsx)(P,{warnings:c.warnings}),(0,r.jsxs)("section",{className:"card padding--md margin-bottom--lg",style:{fontSize:"0.9rem"},children:[(0,r.jsx)("div",{style:{fontWeight:600,marginBottom:8},children:"Tips"}),(0,r.jsx)("ul",{style:{paddingLeft:18},children:x.map((e=>(0,r.jsx)("li",{children:e},e)))})]}),(0,r.jsxs)("section",{className:"card padding--md margin-bottom--lg",children:[(0,r.jsx)("div",{style:{fontWeight:600,marginBottom:8},children:"Underlying formulas & references"}),(0,r.jsxs)("p",{style:{marginBottom:8},children:["Mainline and submain headloss use the Hazen\u2013Williams form\xa0",(0,r.jsxs)("code",{children:["h",(0,r.jsx)("sub",{children:"f"})," = 10.67 \xb7 L \xb7 Q",(0,r.jsx)("sup",{children:"1.852"})," / (C",(0,r.jsx)("sup",{children:"1.852"})," \xb7 d",(0,r.jsx)("sup",{children:"4.87"}),")"]}),", with the material coefficient",(0,r.jsx)("code",{children:" C"})," set by the PE/PVC selector. Velocities are",(0,r.jsx)("code",{children:" v = Q / (\u03c0 d\xb2 / 4)"})," and slope-induced head difference is",(0,r.jsx)("code",{children:" \u0394h = g \xb7 slope \xb7 length"}),"."]}),(0,r.jsx)("p",{style:{margin:0,fontSize:"0.85rem",color:"var(--ifm-color-emphasis-700)"},children:"Reference: ASABE EP405 / FAO Irrigation and Drainage Paper 29 for recommended limits on velocity, allowable pressure variation, and Christiansen Uniformity (CU) interpretation."})]})]})]}),(0,r.jsx)(s.A,{})]})})}},62835:(e,t,i)=>{i.d(t,{A:()=>m});var a=i(96540),n=i(74848);const s={maxWidth:"800px",margin:"60px auto 0",textAlign:"left",padding:"0 20px"},l={fontSize:"2rem",fontWeight:"600",marginBottom:"16px",color:"#000000"},r={fontSize:"1.1rem",color:"#333333",lineHeight:1.6,marginBottom:"16px"},o={borderLeft:"4px solid #cccccc",paddingLeft:"16px",color:"#333333",fontStyle:"italic",lineHeight:1.6,marginBottom:"16px"},d={backgroundColor:"#f6f6f7",padding:"16px",borderRadius:"12px",overflowX:"auto",border:"1px solid #e5e5e7"},c={fontSize:"1.5rem",fontWeight:"600",marginBottom:"16px",color:"#000000"};function m({containerStyle:e}){const[t,i]=(0,a.useState)(!1),[m,h]=(0,a.useState)(!1),p="LiangchaoDeng. (2025). smiler488/smiler488.github.io: Digital Plant Phenotyping Platform v25.0 (v25.0.0). Zenodo. https://doi.org/10.5281/zenodo.17544584",u="@software{Deng2025_DPPP_v25,\n  author       = {Deng, Liangchao},\n  title        = {Digital Plant Phenotyping Platform (v25.0)},\n  year         = {2025},\n  publisher    = {Zenodo},\n  doi          = {10.5281/zenodo.17544584},\n  url          = {https://doi.org/10.5281/zenodo.17544584},\n  note         = {[Computer software]}\n}";return(0,n.jsxs)("div",{style:{...s,...e},children:[(0,n.jsx)("h2",{style:l,children:"Citation"}),(0,n.jsxs)("p",{style:r,children:["If you use ",(0,n.jsx)("strong",{children:"Digital Plant Phenotyping Platform v25.0"})," or any of its applications in your research, please cite it as:"]}),(0,n.jsxs)("blockquote",{style:o,children:["LiangchaoDeng. (2025)."," ",(0,n.jsx)("em",{children:"smiler488/smiler488.github.io: Digital Plant Phenotyping Platform v25.0 (v25.0.0)"}),". Zenodo.",(0,n.jsx)("br",{}),(0,n.jsx)("a",{href:"https://doi.org/10.5281/zenodo.17544584",children:"https://doi.org/10.5281/zenodo.17544584"})]}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"16px",gap:"12px"},children:[(0,n.jsx)("button",{type:"button",onClick:async()=>{try{if("undefined"!=typeof navigator&&navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(p);else if("undefined"!=typeof document){const e=document.createElement("textarea");e.value=p,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}i(!0),setTimeout((()=>i(!1)),2e3)}catch{i(!1)}},style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #000000",backgroundColor:"#000000",color:"#ffffff",cursor:"pointer",fontSize:"0.95rem",fontWeight:500,transition:"transform 0.15s ease, background-color 0.15s ease"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="#333333",e.currentTarget.style.transform="translateY(-1px)"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="#000000",e.currentTarget.style.transform="translateY(0)"},children:t?"Copied!":"Copy citation"}),(0,n.jsx)("span",{style:{fontSize:"0.9rem",color:t?"#007f5f":"#6c6c70"},children:t?"Citation copied to clipboard.":"Click to copy APA citation."})]}),(0,n.jsx)("a",{href:"https://doi.org/10.5281/zenodo.17544584",style:{display:"inline-block",marginBottom:"24px"},children:(0,n.jsx)("img",{src:"https://zenodo.org/badge/DOI/10.5281/zenodo.17544584.svg",alt:"DOI badge",style:{height:"32px"}})}),(0,n.jsx)("hr",{style:{border:"none",borderTop:"1px solid #e5e5e7",marginBottom:"24px"}}),(0,n.jsx)("h3",{style:c,children:"BibTeX citation (Zotero \u2192 File \u2192 Import from Clipboard)"}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"16px",gap:"12px"},children:[(0,n.jsx)("button",{type:"button",onClick:async()=>{try{if("undefined"!=typeof navigator&&navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(u);else if("undefined"!=typeof document){const e=document.createElement("textarea");e.value=u,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}h(!0),setTimeout((()=>h(!1)),2e3)}catch{h(!1)}},style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #000000",backgroundColor:"#000000",color:"#ffffff",cursor:"pointer",fontSize:"0.95rem",fontWeight:500,transition:"transform 0.15s ease, background-color 0.15s ease"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="#333333",e.currentTarget.style.transform="translateY(-1px)"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="#000000",e.currentTarget.style.transform="translateY(0)"},children:m?"Copied!":"Copy BibTeX"}),(0,n.jsx)("span",{style:{fontSize:"0.9rem",color:m?"#007f5f":"#6c6c70"},children:m?"BibTeX copied to clipboard. Switch to Zotero and choose Import from Clipboard.":"Click to copy BibTeX to clipboard for Zotero import."})]}),(0,n.jsx)("pre",{style:d,children:(0,n.jsx)("code",{children:u})})]})}},95082:(e,t,i)=>{i.d(t,{b:()=>s});var a=i(51270);let n=null;function s(){if(n)return n;if("undefined"==typeof window)return null;const e=window.__SUPABASE_URL__,t=window.__SUPABASE_ANON_KEY__;return e&&t?(n=(0,a.UU)(e,t,{auth:{persistSession:!0,autoRefreshToken:!0}}),n):null}}}]);