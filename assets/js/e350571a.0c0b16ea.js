"use strict";(self.webpackChunkliangchao_website=self.webpackChunkliangchao_website||[]).push([[9518],{6594:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var i=n(6540),a=n(1656),s=n(5260),l=n(4848);function r(){const[e,t]=(0,i.useState)(0),[n,r]=(0,i.useState)([]);return(0,i.useEffect)((()=>{let e="Player";document.getElementById("playerName").addEventListener("change",(t=>{e=t.target.value.trim()||"Player"}));const n=document.getElementById("mazeCanvas"),i=n.getContext("2d"),a=Math.floor(n.width/20);let s=function(e,t){const n=[];for(let i=0;i<e;i++){n[i]=[];for(let a=0;a<t;a++)n[i][a]=0===i||0===a||i===e-1||a===t-1?1:Math.random()<.7?0:1}return n[1][1]=0,n[Math.floor(Math.random()*(e-2))+1][t-1]=2,n}(20,20),l=0,r=null,d=!1,o={x:1*a+a/2,y:1*a+a/2,radius:a/4,speed:a};function c(){t(l);const e=document.getElementById("stepCounter");e&&(e.innerText=l)}function p(e,t){r||(r=Date.now());const n=o.x+e,i=o.y+t,d=Math.floor(n/a),p=Math.floor(i/a);1!==s[p][d]&&(o.x=n,o.y=i,l++,c(),0===s[p][d]&&(s[p][d]=3))}function m(){const e=document.getElementById("ranking");let t="<h3>Ranking</h3><ol>";(JSON.parse(localStorage.getItem("mazeRankings"))||[]).forEach((e=>{t+=`<li>${e.name} - ${e.time} sec, ${e.steps} moves</li>`})),t+="</ol>",e.innerHTML=t}function g(e){g(e)}!function t(){i.clearRect(0,0,n.width,n.height),function(){for(let e=0;e<s.length;e++)for(let t=0;t<s[e].length;t++)1===s[e][t]?i.fillStyle="#333":2===s[e][t]?i.fillStyle="green":3===s[e][t]?i.fillStyle="#FFC0CB":i.fillStyle="#fff",i.fillRect(t*a,e*a,a,a),i.strokeStyle="#ccc",i.strokeRect(t*a,e*a,a,a)}(),i.beginPath(),i.fillStyle="red",i.arc(o.x,o.y,o.radius,0,2*Math.PI),i.fill(),function(){const t=Math.floor(o.x/a),n=Math.floor(o.y/a);if(2!==s[n][t]||d)2!==s[n][t]&&(document.getElementById("mazeMessage").innerText="");else{d=!0;const t=Date.now(),n=Math.floor((t-r)/1e3);document.getElementById("mazeMessage").innerText=`Congratulations, ${e||"Player"}! You've reached the exit in ${n} seconds and ${l} moves!`,function(e,t,n){let i=JSON.parse(localStorage.getItem("mazeRankings"))||[];i.push({name:e,time:t,steps:n}),i.sort(((e,t)=>e.time-t.time||e.steps-t.steps)),localStorage.setItem("mazeRankings",JSON.stringify(i)),g(i),m()}(e||"Player",n,l)}}(),requestAnimationFrame(t)}(),document.getElementById("btnUp").addEventListener("click",(()=>p(0,-o.speed))),document.getElementById("btnDown").addEventListener("click",(()=>p(0,o.speed))),document.getElementById("btnLeft").addEventListener("click",(()=>p(-o.speed,0))),document.getElementById("btnRight").addEventListener("click",(()=>p(o.speed,0))),window.addEventListener("keydown",(e=>{switch(e.key){case"ArrowUp":p(0,-o.speed);break;case"ArrowDown":p(0,o.speed);break;case"ArrowLeft":p(-o.speed,0);break;case"ArrowRight":p(o.speed,0)}})),document.getElementById("resetStepsBtn").addEventListener("click",(()=>{l=0,c(),o.x=1*a+a/2,o.y=1*a+a/2;for(let e=0;e<s.length;e++)for(let t=0;t<s[e].length;t++)3===s[e][t]&&(s[e][t]=0)}));JSON.parse(localStorage.getItem("mazeRankings"))&&m()}),[]),(0,l.jsxs)(a.A,{title:"2D Marble Maze",children:[(0,l.jsx)(s.A,{children:(0,l.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"})}),(0,l.jsxs)("div",{style:{textAlign:"center",padding:"20px"},children:[(0,l.jsx)("h1",{children:"2D Marble Maze"}),(0,l.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,l.jsx)("label",{htmlFor:"playerName",children:"Player Name: "}),(0,l.jsx)("input",{type:"text",id:"playerName",placeholder:"Enter your name",style:{padding:"5px",borderRadius:"5px",border:"1px solid #ccc"}})]}),(0,l.jsxs)("div",{style:{marginBottom:"10px",fontSize:"1.2rem"},children:["Steps: ",(0,l.jsx)("span",{id:"stepCounter",children:"0"})]}),(0,l.jsx)("canvas",{id:"mazeCanvas",width:"800",height:"800",style:{border:"2px solid #333"}}),(0,l.jsx)("div",{id:"mazeMessage",style:{marginTop:"10px",fontSize:"1.2rem"}}),(0,l.jsxs)("div",{style:{marginTop:"20px"},children:[(0,l.jsx)("button",{id:"btnUp",style:{padding:"10px 15px",margin:"5px"},children:"\u2191"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("button",{id:"btnLeft",style:{padding:"10px 15px",margin:"5px"},children:"\u2190"}),(0,l.jsx)("button",{id:"btnDown",style:{padding:"10px 15px",margin:"5px"},children:"\u2193"}),(0,l.jsx)("button",{id:"btnRight",style:{padding:"10px 15px",margin:"5px"},children:"\u2192"})]}),(0,l.jsx)("button",{id:"resetStepsBtn",style:{padding:"10px 15px",margin:"5px"},children:"Reset Steps & Doodle"})]}),(0,l.jsx)("div",{id:"mazeMessage",style:{marginTop:"10px",fontSize:"1.2rem"}}),(0,l.jsx)("div",{id:"ranking",style:{marginTop:"20px"}})]})]})}}}]);