"use strict";(self.webpackChunkliangchao_website=self.webpackChunkliangchao_website||[]).push([[571],{2828:(t,e,i)=>{i.r(e),i.d(e,{default:()=>h});var s=i(96540),n=i(63018),a=i(74848);function r({text:t,onStatusChange:e,onHandDetect:n}){const r=s.useRef(null),h=s.useRef(null),d=s.useRef(null);return s.useEffect((()=>{let s,a=[],l={x:-1e4,y:-1e4},o=null,c=null;class u{constructor(t,e,i){this.baseX=t,this.baseY=e,this.x=Math.random()*window.innerWidth,this.y=Math.random()*window.innerHeight,this.z=Math.random(),this.vx=0,this.vy=0,this.color=i,this.size=1.5+this.z,this.density=30*Math.random()+1}draw(t){t.fillStyle=this.color,t.globalAlpha=.4+.6*this.z,t.beginPath(),t.arc(this.x,this.y,this.size,0,2*Math.PI),t.closePath(),t.fill(),t.globalAlpha=1}update(){let t=-1e4,e=-1e4,i=!1,s=!1;if(o?(t=o.x,e=o.y,i=!0,s=o.isClosed):l.x>0&&(t=l.x,e=l.y,i=!0,s=!1),i){const i=t-this.x,n=e-this.y,a=Math.sqrt(i*i+n*n),r=s?300:200;if(a<r){const t=i/a,e=n/a,h=(r-a)/r,d=s?1:-1,l=s?40:15,o=.5+this.z,c=t*h*this.density*o*d*l,u=e*h*this.density*o*d*l;this.vx+=c,this.vy+=u}}const n=s?.05*.1:.05,a=this.baseX-this.x,r=this.baseY-this.y;this.vx+=a*n,this.vy+=r*n,this.vx*=.94,this.vy*=.94,this.x+=this.vx,this.y+=this.vy}}(async()=>{if(e&&e("INITIALIZING OPTICS..."),!r.current||!d.current)return;const m=r.current,p=m.getContext("2d");if(!p)return;const x=()=>{m.width=d.current?.offsetWidth||window.innerWidth,m.height=d.current?.offsetHeight||window.innerHeight,setTimeout(y,100)},y=()=>{a=[],p.clearRect(0,0,m.width,m.height);const e=Math.min(m.width/5,250);p.font=`900 ${e}px "Orbitron"`,p.fillStyle="white",p.textAlign="center",p.textBaseline="middle",p.fillText(t||"SMILER488",m.width/2,m.height/2);const i=p.getImageData(0,0,m.width,m.height);for(let t=0;t<i.height;t+=5)for(let e=0;e<i.width;e+=5)if(i.data[4*t*i.width+4*e+3]>128){const i=Math.random();let s="#2dd4bf";i>.7?s="#ccfbf1":i<.2&&(s="#115e59"),a.push(new u(e,t,s))}p.clearRect(0,0,m.width,m.height)};window.addEventListener("resize",x),x();try{e&&e("CONNECTING SENSORS...");const t=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:640},height:{ideal:480},frameRate:{ideal:30}}});h.current&&(h.current.srcObject=t,h.current.onloadeddata=async()=>{const t=await i.e(3260).then(i.bind(i,23260)),s=await t.FilesetResolver.forVisionTasks("https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.10.0/wasm");c=await t.HandLandmarker.createFromOptions(s,{baseOptions:{modelAssetPath:"https://storage.googleapis.com/mediapipe-models/hand_landmarker/hand_landmarker/float16/1/hand_landmarker.task",delegate:"GPU"},runningMode:"VIDEO",numHands:2}),e&&e("SYSTEM ONLINE - WAITING FOR INPUT");try{h.current.muted=!0}catch{}h.current?.play(),f()})}catch(v){e&&e("CAMERA ERROR - MOUSE MODE ONLY")}const f=()=>{if(!h.current||!c)return;const t=performance.now(),i=c.detectForVideo(h.current,t);if(i.landmarks&&i.landmarks.length>0){const t=i.landmarks[0],s=(t[0].x+t[9].x)/2,a=(t[0].y+t[9].y)/2,r=(1-s)*m.width,h=a*m.height,d=t[4],l=t[8],c=t[12],u=Math.hypot(d.x-l.x,d.y-l.y),p=Math.hypot(d.x-c.x,d.y-c.y),x=u<.08||p<.08;o={x:r,y:h,isClosed:x},n&&n(o),e&&e(x?"GRAVITY WELL ENGAGED":"REPULSION FIELD ACTIVE")}else o=null,n&&n(null),e&&e("SYSTEM ONLINE - WAITING FOR INPUT");requestAnimationFrame(f)},w=()=>{p.clearRect(0,0,m.width,m.height),a.forEach((t=>{t.update(),t.draw(p)})),p.fillStyle="rgba(45, 212, 191, 0.03)",p.fillRect(0,performance.now()/10%m.height,m.width,2),s=requestAnimationFrame(w)};w();const g=t=>{o||(l.x=t.clientX,l.y=t.clientY)},I=()=>{l.x=-1e4,l.y=-1e4};window.addEventListener("mousemove",g),window.addEventListener("mouseout",I)})()}),[t,e,n]),(0,a.jsxs)("div",{ref:d,style:{position:"relative",width:"100%",height:"70vh"},children:[(0,a.jsx)("video",{ref:h,playsInline:!0,autoPlay:!0,muted:!0,style:{position:"absolute",inset:0,width:"100%",height:"100%",objectFit:"cover",transform:"scaleX(-1)",zIndex:0}}),(0,a.jsx)("canvas",{ref:r,style:{position:"absolute",inset:0,width:"100%",height:"100%",display:"block",zIndex:1}})]})}function h(){const[t,e]=s.useState("INITIALIZING..."),[i,h]=s.useState(null);return(0,a.jsx)(n.A,{title:"Hologram",description:"Holographic gesture interaction",children:(0,a.jsxs)("div",{className:"app-card",style:{margin:16},children:[(0,a.jsxs)("div",{className:"app-header",children:[(0,a.jsx)("h2",{className:"app-title",children:"Holographic Interaction"}),(0,a.jsx)("div",{className:"app-muted",children:"Camera permission required"})]}),(0,a.jsx)(r,{text:"SMILER488",onStatusChange:e,onHandDetect:h}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:12},children:[(0,a.jsx)("div",{className:"app-muted",children:t}),(0,a.jsxs)("div",{className:"app-muted",children:["X: ",i?.x?.toFixed?.(2)||"\u2014"," Y: ",i?.y?.toFixed?.(2)||"\u2014"]})]})]})})}}}]);