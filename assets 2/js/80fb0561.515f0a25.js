"use strict";(self.webpackChunkliangchao_website=self.webpackChunkliangchao_website||[]).push([[9557],{6957:(e,t,o)=>{o.r(t),o.d(t,{default:()=>l});var r=o(96540),i=o(63018),n=o(34619),a=o(5260),s=o(62835),d=o(74848);function l(){return(0,r.useEffect)((()=>{const e=e=>document.getElementById(e),t=()=>e("status"),o=(e,o=!1)=>{t()&&(t().textContent=e,t().style.color="#333333",t().style.fontWeight=o?"bold":"normal")},r=()=>{const t=e("cbRows"),o=e("cbCols"),r=e("cbSize"),i=e("cbComputed"),n=e("cbValidation");if(!(t&&o&&r&&i))return;const a=parseInt(t.value||"0",10),s=parseInt(o.value||"0",10),d=parseFloat(r.value||"0"),l=[];if(a<3&&l.push("Rows must be \u2265 3"),s<3&&l.push("Cols must be \u2265 3"),d<2&&l.push("Size must be \u2265 2mm"),d>100&&l.push("Size should be \u2264 100mm"),l.length>0)return i.textContent="Invalid parameters",i.style.color="#333333",void(n&&(n.textContent=l.join(", "),n.style.color="#333333",n.style.display="block"));const c=a+1,p=s+1,u=c*p,b=p*d,g=c*d;i.textContent=`Printed squares = ${c} \xd7 ${p} = ${u}`,i.style.color="#333333",n&&(n.textContent=`Board size: ${b}\xd7${g}mm`,n.style.color="#6c757d",n.style.display="block");const m=e("paper")?.value||"a4",f=parseFloat(e("margin")?.value||10),h={a4:[210,297],letter:[215.9,279.4]},[x,y]=h[m]||h.a4,w=x-2*f,v=y-2*f;if(b>w||g>v){const e=d*Math.min(w/b,v/g);n&&(n.textContent+=` | Will auto-scale to ${e.toFixed(1)}mm squares`,n.style.color="#666666")}},i=()=>{const t=parseFloat(e("beOuter")?.value||0),o=parseInt(e("beRings")?.value||0,10),r=parseFloat(e("beHole")?.value||0),i=parseFloat(e("beStroke")?.value||0),n=[];t<20&&n.push("Outer diameter too small"),t>250&&n.push("Outer diameter too large"),o<1&&n.push("Need at least 1 ring"),o>20&&n.push("Too many rings"),r>=t/2&&n.push("Center hole too large"),i>5&&n.push("Stroke too thick");const a=e("beValidation");return a&&(n.length>0?(a.textContent=n.join(", "),a.style.color="#333333"):(a.textContent=`Target size: ${t}mm diameter`,a.style.color="#28a745"),a.style.display="block"),0===n.length},n=()=>{const t=parseFloat(e("raOuter")?.value||0),o=parseFloat(e("raWidth")?.value||0),r=parseFloat(e("raA1")?.value||0),i=parseFloat(e("raA2")?.value||0),n=parseFloat(e("raHub")?.value||0),a=[];t<50&&a.push("Outer diameter too small"),o>=t/2&&a.push("Ring width too large"),(r<10||r>350)&&a.push("Gap 1 angle invalid"),(i<10||i>350)&&a.push("Gap 2 angle invalid"),n>=t/2&&a.push("Hub too large");const s=e("raValidation");if(s){if(a.length>0)s.textContent=a.join(", "),s.style.color="#333333";else{const e=t-2*o;s.textContent=`Ring: ${t}mm outer, ${e.toFixed(1)}mm inner`,s.style.color="#28a745"}s.style.display="block"}return 0===a.length},a=()=>{const t=e("targetType")?.value||"chessboard",o={type:t,paper:e("paper")?.value||"a4",margin:parseFloat(e("margin")?.value||10)};if("chessboard"===t){const t=parseInt(e("cbRows")?.value||9,10),r=parseInt(e("cbCols")?.value||6,10),i=parseFloat(e("cbSize")?.value||25);o.cbInnerRows=t,o.cbInnerCols=r,o.cbSize=i;const n=t+1,a=r+1;o.cbSquaresRows=n,o.cbSquaresCols=a,o.cbRows=n,o.cbCols=a,o.rows=n,o.cols=a,o.innerRows=t,o.innerCols=r}else"bullseye"===t?(o.beOuter=parseFloat(e("beOuter")?.value||160),o.beRings=parseInt(e("beRings")?.value||4,10),o.beHole=parseFloat(e("beHole")?.value||4),o.beStroke=parseFloat(e("beStroke")?.value||0)):"ringArcs"===t&&(o.raOuter=parseFloat(e("raOuter")?.value||180),o.raWidth=parseFloat(e("raWidth")?.value||30),o.raA1=parseFloat(e("raA1")?.value||300),o.raA2=parseFloat(e("raA2")?.value||120),o.raHub=parseFloat(e("raHub")?.value||40),o.raDot=parseFloat(e("raDot")?.value||2.5));return o},s=()=>{const t=e("targetType")?.value||"chessboard",o=e("chessParams"),a=e("bullseyeParams"),s=e("RingArcsParams");o&&(o.style.display="chessboard"===t?"block":"none"),a&&(a.style.display="bullseye"===t?"block":"none"),s&&(s.style.display="ringArcs"===t?"block":"none"),"chessboard"===t?r():"bullseye"===t?i():"ringArcs"===t&&n()},d=t=>{if("undefined"==typeof window)return!1;if(!!!(window.TARGETS_INIT||window.targetsPreview||window.targetsDownload))return!1;try{window.TARGETS_INIT&&!window.__targetsReady&&(window.TARGETS_INIT(),window.__targetsReady=!0);const t=e("btnPreview"),r=e("btnDownload"),d=e("previewSvg"),l=()=>{const e=a();let t=!0;if("chessboard"===e.type?(e.cbInnerRows<3||e.cbInnerCols<3||e.cbSize<2)&&(o("Invalid chessboard parameters",!0),t=!1):"bullseye"===e.type?(t=i(),t||o("Invalid bullseye parameters",!0)):"ringArcs"===e.type&&(t=n(),t||o("Invalid ring arcs parameters",!0)),t){if(console.log("[targets] preview params",e),"function"==typeof window.targetsPreview)return window.targetsPreview(e,d),void o("Preview updated successfully");if("function"==typeof window.TARGETS_PREVIEW)return window.TARGETS_PREVIEW(e),void o("Preview requested");window.__TARGETS_LAST_PARAMS=e,window.dispatchEvent(new CustomEvent("targets_preview_request",{detail:e})),o("Preview event dispatched")}},c=()=>{const e=a();let t=!0;if("chessboard"===e.type){if(e.cbInnerRows<3||e.cbInnerCols<3||e.cbSize<2)return void o("Cannot download: Invalid chessboard parameters",!0)}else if("bullseye"===e.type){if(t=i(),!t)return void o("Cannot download: Invalid bullseye parameters",!0)}else if("ringArcs"===e.type&&(t=n(),!t))return void o("Cannot download: Invalid ring arcs parameters",!0);return"function"==typeof window.targetsDownload?(window.targetsDownload(e),void o("Generating PDF...")):"function"==typeof window.TARGETS_DOWNLOAD?(window.TARGETS_DOWNLOAD(e),void o("Generating PDF...")):(window.__TARGETS_LAST_PARAMS=e,window.dispatchEvent(new CustomEvent("targets_download_request",{detail:e})),void o("Download event dispatched"))};return t&&!t.__bound&&(t.addEventListener("click",l),t.__bound=!0),r&&!r.__bound&&(r.addEventListener("click",c),r.__bound=!0),s(),l(),o("Calibration targets generator ready"),!0}catch(r){return console.error("Targets init failed from",t,r),o("Initialization failed. Check console for details.",!0),!1}};if(d("immediate"))return;const l=()=>d("targets_ready"),c=()=>d("window.load");window.addEventListener("targets_ready",l),window.addEventListener("load",c);const p=setInterval((()=>{d("poll")&&clearInterval(p)}),150);let u=null;const b=t=>{clearTimeout(u),u=setTimeout((()=>{t();const o=e("btnPreview");o&&o.click()}),300)},g=e("targetType");g&&g.addEventListener("change",(()=>{s();const t=e("btnPreview");t&&t.click()}));["cbRows","cbCols","cbSize"].forEach((t=>{const o=e(t);o&&(o.addEventListener("input",(()=>b(r))),o.addEventListener("change",(()=>b(r))))}));["beOuter","beRings","beHole","beStroke"].forEach((t=>{const o=e(t);o&&(o.addEventListener("input",(()=>b(i))),o.addEventListener("change",(()=>b(i))))}));["raOuter","raWidth","raA1","raA2","raHub","raDot"].forEach((t=>{const o=e(t);o&&(o.addEventListener("input",(()=>b(n))),o.addEventListener("change",(()=>b(n))))}));const m=e("paper"),f=e("margin");return m&&m.addEventListener("change",(()=>b(r))),f&&f.addEventListener("input",(()=>b(r))),r(),()=>{window.removeEventListener("targets_ready",l),window.removeEventListener("load",c),clearInterval(p),clearTimeout(u)}}),[]),(0,d.jsxs)(i.A,{title:"Calibration Targets Generator",children:[(0,d.jsxs)(a.A,{children:[(0,d.jsx)("script",{src:"https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"}),(0,d.jsx)("script",{id:"targets-script",src:"/js/targets_app.js",defer:!0})]}),(0,d.jsxs)("div",{className:"app-container",children:[(0,d.jsxs)("div",{className:"app-header",style:{marginBottom:16},children:[(0,d.jsx)("h1",{className:"app-title",children:"Professional Calibration Targets Generator"}),(0,d.jsx)("a",{className:"button button--secondary",href:"/docs/tutorial-apps/calibration-targets-tutorial",children:"Tutorial"})]}),(0,d.jsx)(n.A,{}),(0,d.jsxs)("p",{style:{marginTop:4,marginBottom:24,color:"#6c757d"},children:["Generate high-precision printable calibration targets for camera calibration and photogrammetry. Print at ",(0,d.jsx)("strong",{children:"100% / Actual size"})," to preserve accurate measurements. For chessboards, inputs are ",(0,d.jsx)("strong",{children:"inner corners"})," (intersection points)."]}),(0,d.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"400px 1fr",gap:"32px",alignItems:"start"},children:[(0,d.jsxs)("div",{id:"controls",style:{border:"2px solid #e9ecef",borderRadius:16,padding:24,backgroundColor:"#f8f9fa"},children:[(0,d.jsx)("h3",{style:{marginTop:0,color:"#495057"},children:"Target Parameters"}),(0,d.jsxs)("div",{style:{marginBottom:20},children:[(0,d.jsx)("label",{style:{display:"block",marginBottom:8,fontWeight:"bold"},children:"Target Type"}),(0,d.jsxs)("select",{id:"targetType",style:{width:"100%",padding:"8px 12px",border:"1px solid #ced4da",borderRadius:6,fontSize:14},children:[(0,d.jsx)("option",{value:"chessboard",children:"Chessboard (OpenCV Standard)"}),(0,d.jsx)("option",{value:"bullseye",children:"Bullseye (Concentric Circles)"}),(0,d.jsx)("option",{value:"ringArcs",children:"Ring with Arc Gaps"})]})]}),(0,d.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,marginBottom:20},children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{style:{display:"block",marginBottom:8,fontWeight:"bold"},children:"Paper Format"}),(0,d.jsxs)("select",{id:"paper",style:{width:"100%",padding:"8px 12px",border:"1px solid #ced4da",borderRadius:6,fontSize:14},children:[(0,d.jsx)("option",{value:"a4",children:"A4 (210\xd7297 mm)"}),(0,d.jsx)("option",{value:"letter",children:"Letter (8.5\xd711 in)"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{style:{display:"block",marginBottom:8,fontWeight:"bold"},children:"Margin (mm)"}),(0,d.jsx)("input",{id:"margin",type:"number",defaultValue:"15",min:"5",max:"50",step:"1",style:{width:"100%",padding:"8px 12px",border:"1px solid #ced4da",borderRadius:6,fontSize:14}})]})]}),(0,d.jsx)("hr",{style:{margin:"24px 0",border:"none",borderTop:"1px solid #dee2e6"}}),(0,d.jsxs)("div",{id:"chessParams",children:[(0,d.jsx)("h4",{style:{color:"#495057",marginBottom:16},children:"Chessboard Configuration"}),(0,d.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,marginBottom:16},children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{style:{display:"block",marginBottom:8,fontWeight:"bold"},children:"Rows (inner corners)"}),(0,d.jsx)("input",{id:"cbRows",type:"number",min:"3",max:"50",defaultValue:"9",style:{width:"100%",padding:"8px 12px",border:"1px solid #ced4da",borderRadius:6,fontSize:14}})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{style:{display:"block",marginBottom:8,fontWeight:"bold"},children:"Cols (inner corners)"}),(0,d.jsx)("input",{id:"cbCols",type:"number",min:"3",max:"50",defaultValue:"6",style:{width:"100%",padding:"8px 12px",border:"1px solid #ced4da",borderRadius:6,fontSize:14}})]})]}),(0,d.jsxs)("div",{style:{marginBottom:16},children:[(0,d.jsx)("label",{style:{display:"block",marginBottom:8,fontWeight:"bold"},children:"Square Size (mm)"}),(0,d.jsx)("input",{id:"cbSize",type:"number",min:"2",max:"100",step:"0.5",defaultValue:"25",style:{width:"100%",padding:"8px 12px",border:"1px solid #ced4da",borderRadius:6,fontSize:14}})]}),(0,d.jsxs)("div",{style:{padding:12,backgroundColor:"#e3f2fd",borderRadius:8,fontSize:12,color:"#1565c0",marginBottom:8},children:[(0,d.jsx)("strong",{children:"Note:"})," OpenCV detects ",(0,d.jsx)("em",{children:"inner corners"})," (intersection points). Printed squares = ",(0,d.jsx)("code",{children:"(rows + 1) \xd7 (cols + 1)"})]}),(0,d.jsx)("div",{id:"cbComputed",style:{fontSize:13,fontWeight:"bold",padding:8,backgroundColor:"#fff",border:"1px solid #dee2e6",borderRadius:6}}),(0,d.jsx)("div",{id:"cbValidation",style:{fontSize:12,marginTop:8,padding:8,backgroundColor:"#fff",border:"1px solid #dee2e6",borderRadius:6,display:"none"}})]}),(0,d.jsxs)("div",{id:"bullseyeParams",style:{display:"none"},children:[(0,d.jsx)("h4",{style:{color:"#495057",marginBottom:16},children:"Bullseye Configuration"}),(0,d.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,marginBottom:16},children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{style:{display:"block",marginBottom:8,fontWeight:"bold"},children:"Outer Diameter (mm)"}),(0,d.jsx)("input",{id:"beOuter",type:"number",min:"20",max:"250",step:"5",defaultValue:"160",style:{width:"100%",padding:"8px 12px",border:"1px solid #ced4da",borderRadius:6,fontSize:14}})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{style:{display:"block",marginBottom:8,fontWeight:"bold"},children:"Ring Count"}),(0,d.jsx)("input",{id:"beRings",type:"number",min:"1",max:"20",defaultValue:"4",style:{width:"100%",padding:"8px 12px",border:"1px solid #ced4da",borderRadius:6,fontSize:14}})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{style:{display:"block",marginBottom:8,fontWeight:"bold"},children:"Center Hole (mm)"}),(0,d.jsx)("input",{id:"beHole",type:"number",min:"0",max:"50",step:"0.5",defaultValue:"4",style:{width:"100%",padding:"8px 12px",border:"1px solid #ced4da",borderRadius:6,fontSize:14}})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{style:{display:"block",marginBottom:8,fontWeight:"bold"},children:"Border Stroke (mm)"}),(0,d.jsx)("input",{id:"beStroke",type:"number",min:"0",max:"5",step:"0.1",defaultValue:"0",style:{width:"100%",padding:"8px 12px",border:"1px solid #ced4da",borderRadius:6,fontSize:14}})]})]}),(0,d.jsx)("div",{id:"beValidation",style:{fontSize:12,padding:8,backgroundColor:"#fff",border:"1px solid #dee2e6",borderRadius:6,display:"none"}})]}),(0,d.jsxs)("div",{id:"RingArcsParams",style:{display:"none"},children:[(0,d.jsx)("h4",{style:{color:"#495057",marginBottom:16},children:"Ring with Arc Gaps"}),(0,d.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,marginBottom:16},children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{style:{display:"block",marginBottom:8,fontWeight:"bold"},children:"Outer Diameter (mm)"}),(0,d.jsx)("input",{id:"raOuter",type:"number",min:"50",max:"250",step:"5",defaultValue:"180",style:{width:"100%",padding:"8px 12px",border:"1px solid #ced4da",borderRadius:6,fontSize:14}})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{style:{display:"block",marginBottom:8,fontWeight:"bold"},children:"Ring Width (mm)"}),(0,d.jsx)("input",{id:"raWidth",type:"number",min:"5",max:"50",step:"1",defaultValue:"30",style:{width:"100%",padding:"8px 12px",border:"1px solid #ced4da",borderRadius:6,fontSize:14}})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{style:{display:"block",marginBottom:8,fontWeight:"bold"},children:"Gap 1 Angle (\xb0)"}),(0,d.jsx)("input",{id:"raA1",type:"number",min:"10",max:"350",step:"5",defaultValue:"300",style:{width:"100%",padding:"8px 12px",border:"1px solid #ced4da",borderRadius:6,fontSize:14}})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{style:{display:"block",marginBottom:8,fontWeight:"bold"},children:"Gap 2 Angle (\xb0)"}),(0,d.jsx)("input",{id:"raA2",type:"number",min:"10",max:"350",step:"5",defaultValue:"120",style:{width:"100%",padding:"8px 12px",border:"1px solid #ced4da",borderRadius:6,fontSize:14}})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{style:{display:"block",marginBottom:8,fontWeight:"bold"},children:"Center Hub (mm)"}),(0,d.jsx)("input",{id:"raHub",type:"number",min:"0",max:"100",step:"1",defaultValue:"40",style:{width:"100%",padding:"8px 12px",border:"1px solid #ced4da",borderRadius:6,fontSize:14}})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{style:{display:"block",marginBottom:8,fontWeight:"bold"},children:"Key Dot (mm)"}),(0,d.jsx)("input",{id:"raDot",type:"number",min:"0",max:"10",step:"0.1",defaultValue:"2.5",style:{width:"100%",padding:"8px 12px",border:"1px solid #ced4da",borderRadius:6,fontSize:14}})]})]}),(0,d.jsx)("div",{id:"raValidation",style:{fontSize:12,padding:8,backgroundColor:"#fff",border:"1px solid #dee2e6",borderRadius:6,display:"none"}})]}),(0,d.jsx)("hr",{style:{margin:"24px 0",border:"none",borderTop:"1px solid #dee2e6"}}),(0,d.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[(0,d.jsx)("button",{type:"button",id:"btnPreview",style:{padding:"12px 16px",border:"2px solid #007bff",borderRadius:8,backgroundColor:"#fff",color:"#007bff",fontWeight:"bold",cursor:"pointer",fontSize:14},disabled:"undefined"!=typeof window&&!window.__APP_AUTH_OK__,children:"Live Preview"}),(0,d.jsx)("button",{type:"button",id:"btnDownload",style:{padding:"12px 16px",border:"none",borderRadius:8,backgroundColor:"#28a745",color:"#fff",fontWeight:"bold",cursor:"pointer",fontSize:14},disabled:"undefined"!=typeof window&&!window.__APP_AUTH_OK__,children:"Download PDF"})]}),(0,d.jsx)("p",{id:"status",style:{marginTop:16,fontSize:13,padding:8,backgroundColor:"#fff",border:"1px solid #dee2e6",borderRadius:6,textAlign:"center"},children:"Initializing..."})]}),(0,d.jsxs)("div",{style:{border:"2px solid #e9ecef",borderRadius:16,padding:24,backgroundColor:"#fff"},children:[(0,d.jsx)("h3",{style:{marginTop:0,color:"#495057"},children:"Live Preview"}),(0,d.jsx)("div",{style:{width:"100%",background:"#f8f9fa",border:"2px dashed #dee2e6",borderRadius:12,overflow:"hidden",padding:16,minHeight:400},children:(0,d.jsx)("svg",{id:"previewSvg",viewBox:"0 0 210 297",width:"100%",style:{maxHeight:"600px",border:"1px solid #dee2e6",borderRadius:8,backgroundColor:"#fff"}})}),(0,d.jsxs)("div",{style:{marginTop:16,color:"#6c757d",fontSize:14,textAlign:"center",padding:12,backgroundColor:"#f8f9fa",borderRadius:8},children:[(0,d.jsx)("strong",{children:"Preview Note:"})," Scale is proportional for display. Physical dimensions are preserved in the exported PDF."]})]})]}),(0,d.jsxs)("div",{style:{marginTop:32,padding:20,backgroundColor:"#fff3cd",border:"1px solid #ffeaa7",borderRadius:12,fontSize:14,color:"#856404"},children:[(0,d.jsx)("h4",{style:{marginTop:0,color:"#856404"},children:"Printing Instructions"}),(0,d.jsxs)("ul",{style:{marginBottom:0,paddingLeft:20},children:[(0,d.jsx)("li",{children:"Use high-quality white paper (minimum 80gsm recommended)"}),(0,d.jsxs)("li",{children:["Print at ",(0,d.jsx)("strong",{children:"100% scale / Actual size"}),' - disable "Fit to page"']}),(0,d.jsx)("li",{children:"Use a laser printer for best precision and contrast"}),(0,d.jsx)("li",{children:"Verify printed dimensions with a ruler before use"}),(0,d.jsx)("li",{children:"For best results, mount on rigid backing (foam board, etc.)"})]})]}),(0,d.jsx)(s.A,{})]})]})}},17921:(e,t,o)=>{function r(){const e="undefined"!=typeof window?window.localStorage.getItem("app_users"):null;if(!e)return[];try{return JSON.parse(e)||[]}catch{return[]}}function i(e){return Array.prototype.map.call(new Uint8Array(e),(e=>("00"+e.toString(16)).slice(-2))).join("")}async function n(e,t){const o=(new TextEncoder).encode(e),r=function(e){const t=new Uint8Array(e.length/2);for(let o=0;o<t.length;o++)t[o]=parseInt(e.substr(2*o,2),16);return t.buffer}(t),n=await crypto.subtle.importKey("raw",o,"PBKDF2",!1,["deriveBits"]);return i(await crypto.subtle.deriveBits({name:"PBKDF2",salt:r,iterations:15e4,hash:"SHA-256"},n,256))}async function a(e,t){const o=r();if(o.find((t=>t.email.toLowerCase()===String(e).toLowerCase())))throw new Error("Email already registered");const a=i(crypto.getRandomValues(new Uint8Array(16)).buffer),s=await n(t,a);return o.push({email:e,saltHex:a,hashHex:s,createdAt:(new Date).toISOString()}),function(e){"undefined"!=typeof window&&window.localStorage.setItem("app_users",JSON.stringify(e))}(o),l({email:e}),{email:e}}async function s(e,t){const o=r().find((t=>t.email.toLowerCase()===String(e).toLowerCase()));if(!o)throw new Error("Account not found");if(await n(t,o.saltHex)!==o.hashHex)throw new Error("Invalid credentials");return l({email:e}),{email:e}}function d(){if("undefined"==typeof window)return null;const e=window.localStorage.getItem("app_session");if(!e)return null;try{return JSON.parse(e)||null}catch{return null}}function l(e){"undefined"!=typeof window&&window.localStorage.setItem("app_session",JSON.stringify({email:e.email,at:Date.now()}))}function c(){"undefined"!=typeof window&&window.localStorage.removeItem("app_session")}o.d(t,{Ht:()=>d,iD:()=>s,kz:()=>a,ri:()=>c})},34619:(e,t,o)=>{o.d(t,{A:()=>s});var r=o(96540),i=o(17921),n=o(95082),a=o(74848);function s({children:e}){const[t,o]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{const e=(0,n.b)();if(e){e.auth.getUser().then((({data:e})=>{const t=!!e?.user;o(t),"undefined"!=typeof window&&(window.__APP_AUTH_OK__=t)}));const{data:t}=e.auth.onAuthStateChange(((e,t)=>{const r=!!t?.user;o(r),"undefined"!=typeof window&&(window.__APP_AUTH_OK__=r)}));return()=>t?.subscription?.unsubscribe?.()}const t=!!(0,i.Ht)();o(t),"undefined"!=typeof window&&(window.__APP_AUTH_OK__=t)}),[]),(0,a.jsxs)("div",{children:[!t&&(0,a.jsx)("div",{className:"app-card",style:{marginBottom:12},children:(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,a.jsx)("span",{className:"app-muted",children:"Please login to use app features"}),(0,a.jsx)("a",{className:"button button--secondary",href:"/auth",children:"Login / Register"})]})}),e]})}},62835:(e,t,o)=>{o.d(t,{A:()=>p});var r=o(96540),i=o(74848);const n={maxWidth:"800px",margin:"60px auto 0",textAlign:"left",padding:"0 20px"},a={fontSize:"2rem",fontWeight:"600",marginBottom:"16px",color:"#000000"},s={fontSize:"1.1rem",color:"#333333",lineHeight:1.6,marginBottom:"16px"},d={borderLeft:"4px solid #cccccc",paddingLeft:"16px",color:"#333333",fontStyle:"italic",lineHeight:1.6,marginBottom:"16px"},l={backgroundColor:"#f6f6f7",padding:"16px",borderRadius:"12px",overflowX:"auto",border:"1px solid #e5e5e7"},c={fontSize:"1.5rem",fontWeight:"600",marginBottom:"16px",color:"#000000"};function p({containerStyle:e}){const[t,o]=(0,r.useState)(!1),[p,u]=(0,r.useState)(!1),b="LiangchaoDeng. (2025). smiler488/smiler488.github.io: Digital Plant Phenotyping Platform v25.0 (v25.0.0). Zenodo. https://doi.org/10.5281/zenodo.17544584",g="@software{Deng2025_DPPP_v25,\n  author       = {Deng, Liangchao},\n  title        = {Digital Plant Phenotyping Platform (v25.0)},\n  year         = {2025},\n  publisher    = {Zenodo},\n  doi          = {10.5281/zenodo.17544584},\n  url          = {https://doi.org/10.5281/zenodo.17544584},\n  note         = {[Computer software]}\n}";return(0,i.jsxs)("div",{style:{...n,...e},children:[(0,i.jsx)("h2",{style:a,children:"Citation"}),(0,i.jsxs)("p",{style:s,children:["If you use ",(0,i.jsx)("strong",{children:"Digital Plant Phenotyping Platform v25.0"})," or any of its applications in your research, please cite it as:"]}),(0,i.jsxs)("blockquote",{style:d,children:["LiangchaoDeng. (2025)."," ",(0,i.jsx)("em",{children:"smiler488/smiler488.github.io: Digital Plant Phenotyping Platform v25.0 (v25.0.0)"}),". Zenodo.",(0,i.jsx)("br",{}),(0,i.jsx)("a",{href:"https://doi.org/10.5281/zenodo.17544584",children:"https://doi.org/10.5281/zenodo.17544584"})]}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"16px",gap:"12px"},children:[(0,i.jsx)("button",{type:"button",onClick:async()=>{try{if("undefined"!=typeof navigator&&navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(b);else if("undefined"!=typeof document){const e=document.createElement("textarea");e.value=b,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}o(!0),setTimeout((()=>o(!1)),2e3)}catch{o(!1)}},style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #000000",backgroundColor:"#000000",color:"#ffffff",cursor:"pointer",fontSize:"0.95rem",fontWeight:500,transition:"transform 0.15s ease, background-color 0.15s ease"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="#333333",e.currentTarget.style.transform="translateY(-1px)"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="#000000",e.currentTarget.style.transform="translateY(0)"},children:t?"Copied!":"Copy citation"}),(0,i.jsx)("span",{style:{fontSize:"0.9rem",color:t?"#007f5f":"#6c6c70"},children:t?"Citation copied to clipboard.":"Click to copy APA citation."})]}),(0,i.jsx)("a",{href:"https://doi.org/10.5281/zenodo.17544584",style:{display:"inline-block",marginBottom:"24px"},children:(0,i.jsx)("img",{src:"https://zenodo.org/badge/DOI/10.5281/zenodo.17544584.svg",alt:"DOI badge",style:{height:"32px"}})}),(0,i.jsx)("hr",{style:{border:"none",borderTop:"1px solid #e5e5e7",marginBottom:"24px"}}),(0,i.jsx)("h3",{style:c,children:"BibTeX citation (Zotero \u2192 File \u2192 Import from Clipboard)"}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"16px",gap:"12px"},children:[(0,i.jsx)("button",{type:"button",onClick:async()=>{try{if("undefined"!=typeof navigator&&navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(g);else if("undefined"!=typeof document){const e=document.createElement("textarea");e.value=g,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}u(!0),setTimeout((()=>u(!1)),2e3)}catch{u(!1)}},style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #000000",backgroundColor:"#000000",color:"#ffffff",cursor:"pointer",fontSize:"0.95rem",fontWeight:500,transition:"transform 0.15s ease, background-color 0.15s ease"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="#333333",e.currentTarget.style.transform="translateY(-1px)"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="#000000",e.currentTarget.style.transform="translateY(0)"},children:p?"Copied!":"Copy BibTeX"}),(0,i.jsx)("span",{style:{fontSize:"0.9rem",color:p?"#007f5f":"#6c6c70"},children:p?"BibTeX copied to clipboard. Switch to Zotero and choose Import from Clipboard.":"Click to copy BibTeX to clipboard for Zotero import."})]}),(0,i.jsx)("pre",{style:l,children:(0,i.jsx)("code",{children:g})})]})}},95082:(e,t,o)=>{o.d(t,{b:()=>n});var r=o(51270);let i=null;function n(){if(i)return i;if("undefined"==typeof window)return null;const e=window.__SUPABASE_URL__,t=window.__SUPABASE_ANON_KEY__;return e&&t?(i=(0,r.UU)(e,t,{auth:{persistSession:!0,autoRefreshToken:!0}}),i):null}}}]);